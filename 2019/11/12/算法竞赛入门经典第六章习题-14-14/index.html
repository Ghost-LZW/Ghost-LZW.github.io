<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>算法竞赛入门经典第六章习题(14/14) | 蓝灵博客</title>
  <meta name="author" content="Ghost_LZW">
  
  <meta name="description" content="蓝灵博客为Ghost_LZW的博客,acmer,code,soullan.com is a blog in order to record my learning and growth">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="算法竞赛入门经典第六章习题(14/14)"/>
  <meta property="og:site_name" content="蓝灵博客"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="蓝灵博客" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-134518650-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f5b3b5dfc13e08e896e4bd5b5f03ab28";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 4.2.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">蓝灵博客</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> 算法竞赛入门经典第六章习题(14/14)</h1>
		</div>
	



<script type="text/x-mathjax-config">
	MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
			tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
			TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
			messageStyle: "none"
	}); 
</script>
<script type="text/x-mathjax-config">
	MathJax.Hub.Queue(function() {
			var all = MathJax.Hub.getAllJax(), i;
			for(i=0; i < all.length; i += 1) {
					all[i].SourceElement().parentNode.className += ' has-jax';
			}
	});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async>
</script>

<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>习题， 第六章的最后部分了</p>
<p>我能去学暴力了！</p>
<p>学完暴力就能学竞赛篇了！幸福！</p>
<a id="more"></a>

<h1 id="Parentheses-Balance"><a href="#Parentheses-Balance" class="headerlink" title="Parentheses Balance"></a>Parentheses Balance</h1><p><a href="https://vjudge.net/problem/UVA-673" target="_blank" rel="noopener">UVA - 673</a></p>
<p>题解：给你一堆括号序列，问你能否达成括号匹配</p>
<p>题解：可能有空行，注意， 用栈进行模拟</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;ju;</span><br><span class="line">	ju[<span class="string">')'</span>] = <span class="string">'('</span>;</span><br><span class="line">	ju[<span class="string">']'</span>] = <span class="string">'['</span>;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line">		<span class="built_in">string</span> temp;</span><br><span class="line">		getline(<span class="built_in">cin</span>, temp);</span><br><span class="line">		<span class="keyword">bool</span> can = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : temp)</span><br><span class="line">			<span class="keyword">if</span>(ju.count(i))&#123;</span><br><span class="line">				<span class="keyword">if</span>(!st.empty() &amp;&amp; st.top() == ju[i])</span><br><span class="line">					st.pop();</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					can = <span class="literal">false</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;<span class="keyword">else</span> st.emplace(i);</span><br><span class="line">		<span class="keyword">if</span>(can &amp;&amp; st.empty())<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yes\n"</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"No\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="S-Trees"><a href="#S-Trees" class="headerlink" title="S-Trees"></a>S-Trees</h1><p><a href="https://vjudge.net/problem/UVA-712" target="_blank" rel="noopener">UVA - 712</a></p>
<p>题意： 给你n个变量，组成n层二叉树， 给出n+1层节点的值， 再来q个询问， 每个询问给每个变量一个值， 每个节点取0时向左走，取1时向右走，问你q的询问后的答案</p>
<p>题解： 直接模拟，对每个询问，每次下一层节点范围减半，记录叶子节点答案即可</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n, k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"S-Tree #"</span> &lt;&lt; ++k &lt;&lt; <span class="string">":\n"</span>;</span><br><span class="line">		<span class="keyword">int</span> pos[<span class="number">12</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="built_in">string</span> temp;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">			pos[i] = temp[<span class="number">1</span>] - <span class="string">'0'</span> - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">string</span> aim;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; aim;</span><br><span class="line">		<span class="keyword">int</span> len = aim.length();</span><br><span class="line">		<span class="keyword">int</span> q;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; q;</span><br><span class="line">		<span class="built_in">string</span> ans;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q; i++)&#123;</span><br><span class="line">			<span class="built_in">string</span> ask;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; ask;</span><br><span class="line">			<span class="keyword">int</span> le = <span class="number">0</span>, ri = len;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">				<span class="keyword">int</span> mid = (le + ri) / <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">if</span>(ask[pos[i]] == <span class="string">'0'</span>)ri = mid;</span><br><span class="line">				<span class="keyword">else</span> le = mid;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//cout &lt;&lt; "le == " &lt;&lt; le &lt;&lt; endl;</span></span><br><span class="line">			ans += aim[le];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Tree-Recovery"><a href="#Tree-Recovery" class="headerlink" title="Tree Recovery"></a>Tree Recovery</h1><p><a href="https://vjudge.net/problem/UVA-536" target="_blank" rel="noopener">UVA - 536 </a></p>
<p>题意：让你根据先序遍历和中序遍历输出后序遍历的结果</p>
<p>题解： 直接模拟建立输出</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> pre, in, post;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> pbe, <span class="keyword">int</span> pen, <span class="keyword">int</span> ibe, <span class="keyword">int</span> ien)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(ibe == ien)<span class="keyword">return</span> ;</span><br><span class="line">	<span class="keyword">int</span> center = in.find(pre[pbe]);</span><br><span class="line">	assert(center != <span class="built_in">string</span>::npos);</span><br><span class="line">	build(pbe + <span class="number">1</span>, pen, ibe, center);</span><br><span class="line">	build(pbe + <span class="number">1</span> + center - ibe, pen, center + <span class="number">1</span>, ien);</span><br><span class="line">	post += pre[pbe];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; pre &gt;&gt; in)&#123;</span><br><span class="line">		post.clear();</span><br><span class="line">		build(<span class="number">0</span>, pre.length(), <span class="number">0</span>, in.length());</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; post &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Knight-Moves"><a href="#Knight-Moves" class="headerlink" title="Knight Moves"></a>Knight Moves</h1><p><a href="https://vjudge.net/problem/UVA-439" target="_blank" rel="noopener">UVA - 439</a></p>
<p>题意：给你一个起点一个终点， 问你国际象棋中的骑士要走几步才能从起点走到终点</p>
<p>题解：直接bfs搜最短路</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> vis[Ma][Ma];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mx[] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">-2</span>, <span class="number">-2</span>&#125;,</span><br><span class="line">	my[] = &#123;<span class="number">2</span>, <span class="number">2</span>, <span class="number">-2</span>, <span class="number">-2</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; Ma &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; Ma;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	pa man;</span><br><span class="line">	<span class="keyword">int</span> cnt;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> == (<span class="keyword">const</span> pa b) <span class="keyword">const</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> man == b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(pa be, pa en)</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;Node&gt;q;</span><br><span class="line">	q.emplace(Node&#123;be, <span class="number">0</span>&#125;);</span><br><span class="line">	Node temp;</span><br><span class="line">	vis[be.first][be.second] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		temp = q.front(); q.pop();</span><br><span class="line">		<span class="keyword">if</span>(temp == en)<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> x = temp.man.first + mx[i],</span><br><span class="line">				y = temp.man.second + my[i];</span><br><span class="line">			<span class="keyword">if</span>(judge(x, y) &amp;&amp; !vis[x][y])vis[x][y] = <span class="literal">true</span>, q.emplace(Node&#123;pa(x, y), temp.cnt + <span class="number">1</span>&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> temp.cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">string</span> be, en;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; be &gt;&gt; en)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">		pa b, e;</span><br><span class="line">		b.first = be[<span class="number">0</span>] - <span class="string">'a'</span>, b.second = be[<span class="number">1</span>] - <span class="string">'1'</span>;</span><br><span class="line">		e.first = en[<span class="number">0</span>] - <span class="string">'a'</span>, e.second = en[<span class="number">1</span>] - <span class="string">'1'</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"To get from "</span>&lt;&lt; be &lt;&lt; <span class="string">" to "</span> &lt;&lt; en &lt;&lt; <span class="string">" takes "</span> &lt;&lt;</span><br><span class="line">		bfs(b, e) &lt;&lt; <span class="string">" knight moves.\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Patrol-Robot"><a href="#Patrol-Robot" class="headerlink" title="Patrol Robot"></a>Patrol Robot</h1><p><a href="https://vjudge.net/problem/UVA-1600" target="_blank" rel="noopener">UVA - 1600</a></p>
<p>题意：给你一个n * m 的图，且你能飞过k长度的障碍， 问你能否从左上角到右下角</p>
<p>题解：一开始看着自然会想用三维标记到节点剩余步数的所有状态，直接bfs， 也可以用二位记录到节点的剩余步数，只有多于这个步数才进行搜索并更新</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">22</span>;</span><br><span class="line"><span class="keyword">int</span> mz[Ma][Ma];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">bool</span> vis[Ma][Ma][Ma];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x, y, cnt, pre;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">over</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> x == n - <span class="number">1</span> &amp;&amp; y == m - <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> xz[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;,</span><br><span class="line">	yz[] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; n &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;Node&gt;q;</span><br><span class="line">	q.push(Node&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">	vis[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">	Node temp;</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		temp = q.front();</span><br><span class="line">		<span class="keyword">if</span>(temp.over())<span class="keyword">break</span>;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">if</span>(temp.pre &gt; k)<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> x = temp.x + xz[i], y = temp.y + yz[i];</span><br><span class="line">			<span class="keyword">if</span>(judge(x, y) &amp;&amp; !vis[x][y][(mz[x][y] ? temp.pre + <span class="number">1</span> : <span class="number">0</span>)])</span><br><span class="line">				vis[x][y][(mz[x][y] ? temp.pre + <span class="number">1</span> : <span class="number">0</span>)] = <span class="literal">true</span>,</span><br><span class="line">				q.emplace(Node&#123;x, y, temp.cnt + <span class="number">1</span>, (mz[x][y] ? temp.pre + <span class="number">1</span> : <span class="number">0</span>)&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> (q.empty() ? <span class="number">-1</span> : temp.cnt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">		<span class="keyword">int</span> k;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; k;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">				<span class="built_in">cin</span> &gt;&gt; mz[i][j];</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; bfs(k) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Equilibrium-Mobile"><a href="#Equilibrium-Mobile" class="headerlink" title="Equilibrium Mobile"></a>Equilibrium Mobile</h1><p><a href="https://vjudge.net/problem/UVA-12166" target="_blank" rel="noopener">UVA - 12166</a></p>
<p>题意： 给你一个深度不超过16的天平，问你至少要修改多少个秤砣的重量才能使得天平平衡</p>
<p>题解：如果不修改一个节点，那么天平的质量就是定的，记录不修改每个节点天平的重量，取其中节点最多的那种。 会爆int， 得用longlong</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnt, mx_cnt;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="built_in">map</span>&lt;ll, <span class="keyword">int</span>&gt;cot;</span><br><span class="line"><span class="built_in">string</span> aim;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">build</span><span class="params">(<span class="keyword">int</span> le, <span class="keyword">int</span> ri, <span class="keyword">int</span> dp)</span></span>&#123;</span><br><span class="line">	ll ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(aim[le] == <span class="string">'['</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> now = <span class="number">1</span> + le;</span><br><span class="line">		<span class="keyword">int</span> tt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(tt || aim[now] != <span class="string">','</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(aim[now] == <span class="string">'['</span>)tt++;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(aim[now] == <span class="string">']'</span>)tt--;</span><br><span class="line">			now++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//cout &lt;&lt; "pre = " &lt;&lt; le + 1 &lt;&lt; ' ' &lt;&lt; now - 1 &lt;&lt; endl;</span></span><br><span class="line">		ans += build(le + <span class="number">1</span>, now - <span class="number">1</span>, dp + <span class="number">1</span>);</span><br><span class="line">		<span class="comment">//cout &lt;&lt; "post = " &lt;&lt; now + 1 &lt;&lt; ' ' &lt;&lt; ri - 1 &lt;&lt; endl;</span></span><br><span class="line">		ans += build(now + <span class="number">1</span>, ri - <span class="number">1</span>, dp + <span class="number">1</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">stringstream</span> ss(aim.substr(le, ri - le + <span class="number">1</span>));</span><br><span class="line">		<span class="comment">//cout &lt;&lt; aim.substr(le, ri - le + 1) &lt;&lt; endl;</span></span><br><span class="line">		ss &gt;&gt; ans;</span><br><span class="line">		cnt++, cot[ans &lt;&lt; dp]++,</span><br><span class="line">		mx_cnt = max(mx_cnt, cot[ans &lt;&lt; dp]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		cnt = mx_cnt = <span class="number">0</span>;</span><br><span class="line">		cot.clear();</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; aim;</span><br><span class="line">		build(<span class="number">0</span>, aim.length() - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; cnt - mx_cnt &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Petri-Net-Simulation"><a href="#Petri-Net-Simulation" class="headerlink" title="Petri Net Simulation"></a>Petri Net Simulation</h1><p><a href="https://vjudge.net/problem/UVA-804" target="_blank" rel="noopener">UVA - 804</a></p>
<p>题意： 让你模拟petri网的变迁，</p>
<p>题解：具体描述参考原题面， 直接模拟即可，最后输出结束或死后每个有taken的地方，和有多少个taken</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NT</span>&#123;</span></span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pre, next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n, k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Case "</span> &lt;&lt; ++k &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">		<span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">np</span><span class="params">(n)</span></span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n; i++)</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; np[i];</span><br><span class="line">		<span class="keyword">int</span> t;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">		<span class="function"><span class="built_in">vector</span>&lt;NT&gt; <span class="title">nt</span><span class="params">(t)</span></span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> aim;</span><br><span class="line">			<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; aim &amp;&amp; aim)&#123;</span><br><span class="line">				<span class="keyword">if</span>(aim &gt; <span class="number">0</span>)nt[i].next[aim - <span class="number">1</span>]++;</span><br><span class="line">				<span class="keyword">else</span> nt[i].pre[-aim - <span class="number">1</span>]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> round;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; round;</span><br><span class="line">		<span class="keyword">bool</span> dead = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; !dead &amp;&amp; i &lt; round;)&#123;</span><br><span class="line">			dead = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; j : nt)&#123;</span><br><span class="line">				<span class="keyword">bool</span> judge = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; q : j.pre)</span><br><span class="line">					<span class="keyword">if</span>(np[q.first] &lt; q.second)judge = <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">if</span>(!judge)<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					i++;</span><br><span class="line">					dead = <span class="literal">false</span>;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; q : j.pre)</span><br><span class="line">						np[q.first] -= q.second;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; q : j.next)</span><br><span class="line">						np[q.first] += q.second;</span><br><span class="line">					<span class="keyword">if</span>(i == round)<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(dead)<span class="built_in">cout</span> &lt;&lt; <span class="string">"dead after "</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"still live after "</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">" transitions\nPlaces with tokens:"</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			<span class="keyword">if</span>(np[i] &gt; <span class="number">0</span>)</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; <span class="string">'('</span> &lt;&lt; np[i] &lt;&lt; <span class="string">')'</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spatial-Structures"><a href="#Spatial-Structures" class="headerlink" title="Spatial Structures"></a>Spatial Structures</h1><p><a href="https://vjudge.net/problem/UVA-806" target="_blank" rel="noopener">UVA - 806</a></p>
<p>题意： 让你把一张图像的四分树表示和点阵表示相互转换</p>
<p>题解: 按题意模拟即可，注意输出数字时每十二个一行，和全为1时的处理</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">72</span>;</span><br><span class="line"><span class="keyword">int</span> Pic[Ma][Ma];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Pow</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">-1</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(n)sum *= <span class="number">5</span>, n--;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">J</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> len, <span class="keyword">int</span> xp, <span class="keyword">int</span> yp, <span class="keyword">int</span> indx, <span class="keyword">int</span> bit, <span class="keyword">int</span> pre)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> pp = pre + indx * Pow(bit);</span><br><span class="line">	<span class="comment">//cout &lt;&lt; len &lt;&lt; ' ' &lt;&lt; xp &lt;&lt; ' ' &lt;&lt; yp &lt;&lt; ' ' &lt;&lt; pp &lt;&lt; ' ' &lt;&lt; Pic[xp][yp] &lt;&lt; endl;</span></span><br><span class="line">	<span class="keyword">if</span>(len == <span class="number">1</span>)<span class="keyword">return</span> bit == <span class="number">-1</span> ? Pic[yp][xp] : Pic[yp][xp] * pp;</span><br><span class="line">	<span class="keyword">int</span> p1 = build(len / <span class="number">2</span>, xp, yp, <span class="number">1</span>, bit + <span class="number">1</span>, pp);</span><br><span class="line">	<span class="keyword">int</span> p2 = build(len / <span class="number">2</span>, xp + len / <span class="number">2</span>, yp, <span class="number">2</span>, bit + <span class="number">1</span>, pp);</span><br><span class="line">	<span class="keyword">int</span> p3 = build(len / <span class="number">2</span>, xp, yp + len / <span class="number">2</span>, <span class="number">3</span>, bit + <span class="number">1</span>, pp);</span><br><span class="line">	<span class="keyword">int</span> p4 = build(len / <span class="number">2</span>, xp + len / <span class="number">2</span>, yp + len / <span class="number">2</span>, <span class="number">4</span>, bit + <span class="number">1</span>, pp);</span><br><span class="line">	<span class="keyword">int</span> ju = J(p1) + J(p2) + J(p3) + J(p4);</span><br><span class="line">	<span class="comment">//cout &lt;&lt; "son " &lt;&lt; p1 &lt;&lt; ' ' &lt;&lt; p2 &lt;&lt; ' ' &lt;&lt; p3 &lt;&lt; ' ' &lt;&lt; p4 &lt;&lt; endl; </span></span><br><span class="line">	<span class="keyword">if</span>(ju == <span class="number">4</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> bit == <span class="number">-1</span> ? <span class="number">1</span> : pp;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(J(p1))ans.emplace_back(p1);</span><br><span class="line">		<span class="keyword">if</span>(J(p2))ans.emplace_back(p2);</span><br><span class="line">		<span class="keyword">if</span>(J(p3))ans.emplace_back(p3);</span><br><span class="line">		<span class="keyword">if</span>(J(p4))ans.emplace_back(p4);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solvePic</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%1d"</span>, &amp;Pic[i][j]);</span><br><span class="line">	<span class="comment">/*	for(int i = 0; i &lt; n; i++, cout &lt;&lt; '\n')</span></span><br><span class="line"><span class="comment">		for(int j = 0; j &lt; n; j++)</span></span><br><span class="line"><span class="comment">			cout &lt;&lt; Pic[i][j];*/</span></span><br><span class="line">	<span class="keyword">if</span>(build(n, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>))ans.emplace_back(<span class="number">0</span>);</span><br><span class="line">	sort(ans.begin(), ans.end());</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i = ans.begin(); i != ans.end(); i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt)<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *i;</span><br><span class="line">		<span class="keyword">if</span>(cnt == <span class="number">11</span>)cnt = <span class="number">0</span>, <span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		<span class="keyword">else</span> cnt++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(cnt &amp;&amp; ans.size() &gt; <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Total number of black nodes = "</span> &lt;&lt; ans.size() &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Full</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> bit = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> len = n, xp = <span class="number">0</span>, yp = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">		<span class="keyword">int</span> pos = t % <span class="number">5</span>;</span><br><span class="line">		<span class="keyword">if</span>(pos == <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)</span><br><span class="line">					Pic[yp + i][xp + j] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(pos == <span class="number">2</span>)xp += len / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(pos == <span class="number">3</span>)yp += len / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(pos == <span class="number">4</span>)xp += len / <span class="number">2</span>, yp += len / <span class="number">2</span>;</span><br><span class="line">		t /= <span class="number">5</span>;</span><br><span class="line">		len /= <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solveNum</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(Pic, <span class="number">0</span>, <span class="keyword">sizeof</span>(Pic));</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; t &amp;&amp; ~t)</span><br><span class="line">		Full(t, n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++, <span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; (Pic[i][j] ? <span class="string">'*'</span> : <span class="string">'.'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//ios::sync_with_stdio(false);</span></span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n, k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">bool</span> im = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">		<span class="keyword">if</span>(im)<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		<span class="keyword">else</span> im = <span class="literal">true</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Image "</span> &lt;&lt; ++k &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		ans.clear();</span><br><span class="line">		<span class="keyword">if</span>(n &gt; <span class="number">0</span>)solvePic(n);</span><br><span class="line">		<span class="keyword">else</span> solveNum(-n);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="“Accordian”-Patience"><a href="#“Accordian”-Patience" class="headerlink" title="“Accordian” Patience"></a>“Accordian” Patience</h1><p><a href="https://vjudge.net/problem/UVA-127" target="_blank" rel="noopener">UVA - 127</a></p>
<p>题意：给你52张牌， 让你按题目所述规则进行模拟合并牌堆， 并输出牌堆的牌的数量</p>
<p>题解：按题意模拟, 注意末尾pile的单复数问题</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Card</span>&#123;</span></span><br><span class="line">	<span class="keyword">char</span> suit, rank;</span><br><span class="line">	Card(<span class="keyword">char</span> temp[]):suit(temp[<span class="number">0</span>]), rank(temp[<span class="number">1</span>])&#123;&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> == (<span class="keyword">const</span> Card&amp; b) <span class="keyword">const</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> suit == b.suit || rank == b.rank;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">stack</span>&lt;Card&gt; card[<span class="number">53</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	len = <span class="number">52</span>, cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(!card[<span class="number">0</span>].empty())</span><br><span class="line">		card[<span class="number">0</span>].pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">rCard</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">char</span> temp[<span class="number">3</span>];</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>, temp);</span><br><span class="line">	card[cnt++].emplace(Card(temp));</span><br><span class="line">	<span class="keyword">return</span> temp[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> le, <span class="keyword">int</span>&amp; pos)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(card[pos].empty())<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> ju = <span class="number">0</span>, pre = pos;</span><br><span class="line">	<span class="keyword">for</span>(; pos &gt; <span class="number">0</span> &amp;&amp; ju &lt; le; )</span><br><span class="line">		<span class="keyword">if</span>(!card[--pos].empty())ju++;</span><br><span class="line">	<span class="comment">//cout &lt;&lt; ju &lt;&lt; ' ' &lt;&lt; pos &lt;&lt; ' ' &lt;&lt; pre &lt;&lt;  endl;</span></span><br><span class="line">	<span class="keyword">if</span>(ju == le &amp;&amp; card[pos].top() == card[pre].top())&#123;</span><br><span class="line">		card[pos].emplace(card[pre].top());</span><br><span class="line">		card[pre].pop();</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		pos = pre;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(init(), rCard() != <span class="string">'#'</span>)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">52</span>; i++)&#123;</span><br><span class="line">			<span class="keyword">while</span>(!card[i].empty())</span><br><span class="line">				card[i].pop();</span><br><span class="line">			rCard();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">			<span class="keyword">while</span>(judge(<span class="number">3</span>, i) || judge(<span class="number">1</span>, i));</span><br><span class="line">		<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;ans;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">52</span>; i++)</span><br><span class="line">			<span class="keyword">if</span>(!card[i].empty())ans.emplace(card[i].size());</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d %s remaining:"</span>, ans.size(), ans.size() == <span class="number">1</span> ? <span class="string">"pile"</span> : <span class="string">"piles"</span>);</span><br><span class="line">		<span class="keyword">while</span>(!ans.empty())</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" %d"</span>, ans.front()), ans.pop();</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="10-20-30"><a href="#10-20-30" class="headerlink" title="10-20-30"></a>10-20-30</h1><p><a href="https://vjudge.net/problem/UVA-246" target="_blank" rel="noopener">UVA - 246</a></p>
<p>题意： 给你52张牌，每次依次往七个牌堆上放牌， 牌堆没牌就消失了， 让你按</p>
<ol>
<li>the first two and last one,</li>
<li>the first one and the last two, or</li>
<li>the last three cards.</li>
</ol>
<p>加起来能等于10, 20, 30就按顺序收入手牌底的规则进行模拟，如果没手牌就输了，没牌堆了就赢了， 陷入循环就陷入<del>恋爱</del>循环了</p>
<p>题解：按题意模拟， 对状态进行编码，以便检查是否陷入循环</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">55</span>;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;pai;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">rCard</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> temp;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp);</span><br><span class="line">	<span class="keyword">if</span>(!temp)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	pai.emplace_back(temp);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">52</span>; i++)</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp), pai.emplace_back(temp);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; card[<span class="number">8</span>];</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;*&gt; piles;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt; stu;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	piles.clear(), stu.clear();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)&#123;</span><br><span class="line">		card[i].clear();</span><br><span class="line">		card[i].emplace_back(pai.front());</span><br><span class="line">		piles.emplace_back(card + i);</span><br><span class="line">		pai.pop_front();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">encode</span><span class="params">(<span class="built_in">string</span>&amp; aim)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : piles)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; j : *i)</span><br><span class="line">			aim += <span class="keyword">char</span>(j);</span><br><span class="line">		aim += <span class="string">'|'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : pai)</span><br><span class="line">		aim += <span class="keyword">char</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Pgg</span><span class="params">(<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; q)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n = q.size();</span><br><span class="line">	<span class="keyword">if</span>(n &lt; <span class="number">3</span>)<span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>((q[<span class="number">0</span>] + q[<span class="number">1</span>] + q[n - <span class="number">1</span>]) % <span class="number">10</span> == <span class="number">0</span>)&#123;</span><br><span class="line">		pai.emplace_back(q[<span class="number">0</span>]),</span><br><span class="line">		pai.emplace_back(q[<span class="number">1</span>]),</span><br><span class="line">		pai.emplace_back(q[n - <span class="number">1</span>]),</span><br><span class="line">		q.pop_front(), q.pop_front(), q.pop_back();</span><br><span class="line">		Pgg(q);</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>((q[<span class="number">0</span>] + q[n - <span class="number">1</span>] + q[n - <span class="number">2</span>]) % <span class="number">10</span> == <span class="number">0</span>)&#123;</span><br><span class="line">		pai.emplace_back(q[<span class="number">0</span>]),</span><br><span class="line">		pai.emplace_back(q[n - <span class="number">2</span>]),</span><br><span class="line">		pai.emplace_back(q[n - <span class="number">1</span>]),</span><br><span class="line">		q.pop_front(), q.pop_back(), q.pop_back();</span><br><span class="line">		Pgg(q);</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>((q[n - <span class="number">1</span>] + q[n - <span class="number">2</span>] + q[n - <span class="number">3</span>]) % <span class="number">10</span> == <span class="number">0</span>)&#123;</span><br><span class="line">		pai.emplace_back(q[n - <span class="number">3</span>]),</span><br><span class="line">		pai.emplace_back(q[n - <span class="number">2</span>]),</span><br><span class="line">		pai.emplace_back(q[n - <span class="number">1</span>]),</span><br><span class="line">		q.pop_back(), q.pop_back(), q.pop_back();</span><br><span class="line">		Pgg(q);</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">runTurn</span><span class="params">(<span class="keyword">int</span> time)</span></span>&#123;</span><br><span class="line">	assert(piles.size() &lt;= <span class="number">7</span>);</span><br><span class="line">	<span class="keyword">if</span>(piles.empty())&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Win : %d\n"</span>, time);</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(pai.empty())&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Loss: %d\n"</span>, time);</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">string</span> now;</span><br><span class="line">	assert(now.empty());</span><br><span class="line">	encode(now);</span><br><span class="line">	<span class="keyword">if</span>(stu.count(now))&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Draw: %d\n"</span>, time);</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span> stu.emplace(now);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; q = *piles.front();</span><br><span class="line">	piles.emplace_back(piles.front());</span><br><span class="line">	piles.pop_front();</span><br><span class="line">	q.emplace_back(pai.front());</span><br><span class="line">	pai.pop_front();</span><br><span class="line"></span><br><span class="line">	Pgg(q);</span><br><span class="line">	<span class="keyword">if</span>(q.empty())piles.pop_back();</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(pai.clear(), rCard())&#123;</span><br><span class="line">		assert(pai.size() == <span class="number">52</span>);</span><br><span class="line">		init();</span><br><span class="line">		assert(pai.size() == <span class="number">52</span> - <span class="number">7</span>);</span><br><span class="line">		<span class="keyword">int</span> t = <span class="number">7</span>;</span><br><span class="line">		<span class="keyword">while</span>(runTurn(t++));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Tree-Reconstruction"><a href="#Tree-Reconstruction" class="headerlink" title="Tree Reconstruction"></a>Tree Reconstruction</h1><p><a href="https://vjudge.net/problem/UVA-10410" target="_blank" rel="noopener">UVA - 10410</a></p>
<p>题意：让你根据bfs序和dfs序，保证遍历时有更小的节点可走时走更小的节点</p>
<p>题解：按dsf序为主进行递归便利，用dfs序来检测是否为同一层的节点</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e3</span> + <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> dfs[Ma];</span><br><span class="line"><span class="keyword">int</span> wb[Ma];</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;ans[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">		ans[i].clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gao</span><span class="params">(<span class="keyword">int</span> le, <span class="keyword">int</span> ri)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> root = dfs[le], last = le + <span class="number">1</span>, val = dfs[last];</span><br><span class="line">	<span class="keyword">for</span>(++le; le &lt; ri; le++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(val &lt; dfs[le] &amp;&amp; wb[val] + <span class="number">1</span> == wb[dfs[le]])</span><br><span class="line">			val = dfs[le],</span><br><span class="line">			ans[root].emplace_back(gao(last, le)),</span><br><span class="line">			last = le;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(last &lt; ri)ans[root].emplace_back(gao(last, ri));</span><br><span class="line">	<span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*6</span></span><br><span class="line"><span class="comment">1 2 3 4 5 6</span></span><br><span class="line"><span class="comment">1 2 4 5 3 6*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">		init(n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> b, i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; b, wb[b] = i;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; dfs[i];</span><br><span class="line">		gao(<span class="number">0</span>, n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">':'</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; j : ans[i])</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; j;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="A-Dicey-Problem"><a href="#A-Dicey-Problem" class="headerlink" title="A Dicey Problem"></a>A Dicey Problem</h1><p><a href="https://vjudge.net/problem/UVA-810" target="_blank" rel="noopener">UVA - 810</a></p>
<p>题意：把一个頭子放在起点，问你他能否滚回来，能的话输出路径，否则输出无方案， 一个頭子能滚到一个格子当且仅当他的头顶（是头顶！）和那个格子的数一样或者格子上显示的-1</p>
<p>题意：读好条件， 直接模拟， 这里用链表存了下路径，直接存也行</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MenPool</span>&#123;</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;T*&gt; v;</span><br><span class="line">	<span class="function">T* <span class="title">newmem</span><span class="params">()</span></span>&#123;</span><br><span class="line">		v.emplace_back(<span class="keyword">new</span> T());</span><br><span class="line">		<span class="keyword">return</span> v.back();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">disaper</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : v)</span><br><span class="line">			<span class="keyword">delete</span> i;</span><br><span class="line">		v.clear();</span><br><span class="line">	&#125;</span><br><span class="line">	~MenPool()&#123;</span><br><span class="line">		disaper();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">11</span>;</span><br><span class="line"><span class="keyword">int</span> mz[Ma][Ma];</span><br><span class="line"><span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; stu;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pa;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> F first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S second</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	pa im;</span><br><span class="line">	Node* pre;</span><br><span class="line">	Node()&#123;&#125;</span><br><span class="line">	Node(pa _i, Node* _p) : </span><br><span class="line">	im(_i), pre(_p) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MenPool&lt;Node&gt; pool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, sr, sc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cz[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">2</span>&#125;,</span><br><span class="line">	rz[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">2</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dm[] = &#123;<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> fr[<span class="number">6</span>][<span class="number">6</span>] = &#123;</span><br><span class="line">	&#123; <span class="number">-1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">-1</span> &#125;,</span><br><span class="line">	&#123; <span class="number">4</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">-1</span>, <span class="number">3</span> &#125;,</span><br><span class="line">	&#123; <span class="number">2</span>, <span class="number">6</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">5</span> &#125;,</span><br><span class="line">	&#123; <span class="number">5</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">6</span>, <span class="number">2</span> &#125;,</span><br><span class="line">	&#123; <span class="number">3</span>, <span class="number">-1</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">4</span> &#125;,</span><br><span class="line">	&#123; <span class="number">-1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">-1</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">wdm</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> dm[x - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">py</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> fr[x - <span class="number">1</span>][y - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Tou</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> tz[<span class="number">6</span>], r, c;</span><br><span class="line">	Node* pre;</span><br><span class="line">	Tou(<span class="keyword">int</span> h = <span class="number">1</span>, <span class="keyword">int</span> f = <span class="number">2</span>, <span class="keyword">int</span> _r = <span class="number">0</span>, <span class="keyword">int</span> _c = <span class="number">0</span>, Node* _p = <span class="literal">nullptr</span>) : </span><br><span class="line">		r(_r), c(_c) &#123;</span><br><span class="line">		pre = pool.newmem();</span><br><span class="line">		pre-&gt;im = pa(r + <span class="number">1</span>, c + <span class="number">1</span>);</span><br><span class="line">		pre-&gt;pre = _p;</span><br><span class="line">		tz[<span class="number">5</span>] = h, tz[<span class="number">0</span>] = wdm(h);</span><br><span class="line">		tz[<span class="number">1</span>] = f, tz[<span class="number">3</span>] = wdm(f);</span><br><span class="line">		<span class="keyword">int</span> t = py(h, f);</span><br><span class="line">		tz[<span class="number">2</span>] = t, tz[<span class="number">4</span>] = wdm(t);</span><br><span class="line">	&#125;</span><br><span class="line">	Tou(Tou&amp; b, <span class="keyword">int</span> fx)&#123;</span><br><span class="line">		<span class="keyword">if</span>(fx == <span class="number">0</span>)*<span class="keyword">this</span> = b;</span><br><span class="line">		<span class="keyword">if</span>(fx == <span class="number">1</span>)*<span class="keyword">this</span> = Tou(b.tz[<span class="number">3</span>], b.tz[<span class="number">5</span>], b.r + <span class="number">1</span>, b.c, b.pre);</span><br><span class="line">		<span class="keyword">if</span>(fx == <span class="number">2</span>)*<span class="keyword">this</span> = Tou(b.tz[<span class="number">4</span>], b.tz[<span class="number">1</span>], b.r, b.c + <span class="number">1</span>, b.pre);</span><br><span class="line">		<span class="keyword">if</span>(fx == <span class="number">3</span>)*<span class="keyword">this</span> = Tou(b.tz[<span class="number">1</span>], b.tz[<span class="number">0</span>], b.r - <span class="number">1</span>, b.c, b.pre);</span><br><span class="line">		<span class="keyword">if</span>(fx == <span class="number">4</span>)*<span class="keyword">this</span> = Tou(b.tz[<span class="number">2</span>], b.tz[<span class="number">1</span>], b.r, b.c - <span class="number">1</span>, b.pre);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">over</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> r == sr &amp;&amp; c == sc;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> tz[<span class="number">5</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> r &gt;= <span class="number">0</span> &amp;&amp; r &lt; n &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">encode</span><span class="params">(<span class="keyword">const</span> Tou&amp; t)</span></span>&#123;</span><br><span class="line">	<span class="built_in">string</span> temp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">		temp += t.tz[i];</span><br><span class="line">	temp += t.r;</span><br><span class="line">	temp += t.c;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CVis</span><span class="params">(<span class="built_in">string</span> s)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(stu.count(s))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">else</span> stu.emplace(s);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(Tou&amp; tt)</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;Tou&gt; q;</span><br><span class="line">	Tou temp = tt;</span><br><span class="line">	q.emplace(tt);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		temp = q.front();</span><br><span class="line">		<span class="comment">//cout &lt;&lt; temp.r &lt;&lt; ' ' &lt;&lt; temp.c &lt;&lt; endl;</span></span><br><span class="line">		<span class="keyword">if</span>(temp.over() &amp;&amp; temp.pre-&gt;pre)<span class="keyword">break</span>;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++)&#123;</span><br><span class="line">			<span class="comment">//cout &lt;&lt; "in " &lt;&lt; i &lt;&lt; " turn\n";</span></span><br><span class="line">			<span class="keyword">if</span>(judge(temp.r + rz[i], temp.c + cz[i]))&#123;</span><br><span class="line">				Tou tt = Tou(temp, i);</span><br><span class="line">				<span class="comment">//cout &lt;&lt; "temp = " &lt;&lt; temp.top() &lt;&lt; ' ' &lt;&lt; mz[tt.r][tt.c] &lt;&lt; endl;</span></span><br><span class="line">				<span class="keyword">if</span>((mz[tt.r][tt.c] == <span class="number">-1</span> || temp.top() == mz[tt.r][tt.c]) &amp;&amp; CVis(encode(tt)))&#123;</span><br><span class="line">					q.emplace(tt);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(q.empty())<span class="built_in">cout</span> &lt;&lt; <span class="string">"  No Solution Possible\n"</span>;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;pa&gt;ans;</span><br><span class="line">		Node* txx = temp.pre;</span><br><span class="line">		ans.emplace_back(txx-&gt;im);</span><br><span class="line">		<span class="keyword">while</span>(txx)&#123;</span><br><span class="line">			<span class="comment">//cout &lt;&lt; temp.pfx &lt;&lt; endl;</span></span><br><span class="line">			txx = txx-&gt;pre;</span><br><span class="line">			<span class="keyword">if</span>(txx)ans.emplace_back(txx-&gt;im);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> len = ans.size();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">			<span class="keyword">if</span>((len - i - <span class="number">1</span>) % <span class="number">9</span> == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">"  "</span>;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">'('</span> &lt;&lt; ans[i].F &lt;&lt; <span class="string">','</span> &lt;&lt; ans[i].S &lt;&lt; <span class="string">')'</span> &lt;&lt; <span class="string">",\n"</span>[i == <span class="number">0</span>];</span><br><span class="line">			<span class="keyword">if</span>(i &amp;&amp; (len - i) % <span class="number">9</span> == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; name &amp;&amp; name != <span class="string">"END"</span>)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		stu.clear();</span><br><span class="line">		pool.disaper();</span><br><span class="line">		<span class="keyword">int</span> he, fa;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; sr &gt;&gt; sc &gt;&gt; he &gt;&gt; fa;</span><br><span class="line">		sr--, sc--;</span><br><span class="line">		<span class="function">Tou <span class="title">me</span><span class="params">(he, fa, sr, sc, <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">				<span class="built_in">cin</span> &gt;&gt; mz[i][j];</span><br><span class="line">		bfs(me);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spreadsheet-Calculator"><a href="#Spreadsheet-Calculator" class="headerlink" title="Spreadsheet Calculator"></a>Spreadsheet Calculator</h1><p><a href="https://vjudge.net/problem/UVA-215" target="_blank" rel="noopener">UVA - 215</a></p>
<p>题意：给你一个n×m的excel表格，让你计算出每个格子的值，如果计算不出来(公式调用了未定义的值)， 则只需输出所有无法计算的公式格子</p>
<p>题解：直接模拟， 注意递归判值，如果调用了一个正在计算过程中的格子，则无法计算, 照常，注意输出和最后一个样列后面也得有空行，这次题面提出来了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cell</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> ex;</span><br><span class="line">	<span class="keyword">int</span> val;</span><br><span class="line">	<span class="built_in">string</span> expre;</span><br><span class="line">	Cell()&#123;&#125;</span><br><span class="line">	Cell(<span class="built_in">string</span> temp) : expre(temp), val(<span class="number">0</span>), ex(<span class="number">0</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Cell cell[<span class="number">21</span>][<span class="number">11</span>];</span><br><span class="line"><span class="keyword">int</span> vul[<span class="number">21</span>][<span class="number">11</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cacu</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(cell[r][c].ex == <span class="number">1</span>)<span class="keyword">return</span> cell[r][c].val;</span><br><span class="line">	<span class="keyword">if</span>(cell[r][c].ex == <span class="number">-1</span>)<span class="keyword">return</span> inf;</span><br><span class="line">	cell[r][c].ex = <span class="number">-1</span>;</span><br><span class="line">	Cell &amp;now = cell[r][c];</span><br><span class="line">	<span class="built_in">string</span>&amp; <span class="built_in">exp</span> = now.expre;</span><br><span class="line">	<span class="keyword">int</span> sign = <span class="number">1</span>, len = <span class="built_in">exp</span>.length();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">exp</span>[i] == <span class="string">'-'</span>)sign = <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">exp</span>[i] == <span class="string">'+'</span>)sign = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">isdigit</span>(<span class="built_in">exp</span>[i]))&#123;</span><br><span class="line">			<span class="built_in">string</span>::size_type sz;</span><br><span class="line">			now.val += sign * stoi(<span class="built_in">exp</span>.substr(i), &amp;sz);</span><br><span class="line">			i += sz - <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">isupper</span>(<span class="built_in">exp</span>[i]))&#123;</span><br><span class="line">			<span class="keyword">int</span> an = cacu(<span class="built_in">exp</span>[i] - <span class="string">'A'</span>, <span class="built_in">exp</span>[i + <span class="number">1</span>] - <span class="string">'0'</span>);</span><br><span class="line">			<span class="keyword">if</span>(an == inf)<span class="keyword">return</span> inf;</span><br><span class="line">			now.val += sign * an;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;<span class="keyword">else</span> assert(<span class="literal">false</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	cell[r][c].ex = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> cell[r][c].val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &amp;&amp; n)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">				<span class="built_in">string</span> temp;</span><br><span class="line">				<span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">				cell[i][j] = Cell(temp);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">				vul[i][j] = cacu(i, j);</span><br><span class="line">				<span class="keyword">if</span>(cell[i][j].ex == <span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line">				flag = <span class="literal">false</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="keyword">char</span>(i + <span class="string">'A'</span>) &lt;&lt; <span class="keyword">char</span>(j + <span class="string">'0'</span>) &lt;&lt; <span class="string">": "</span> &lt;&lt; cell[i][j].expre &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(flag)&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">"     "</span> &lt;&lt; i;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="keyword">char</span>(i + <span class="string">'A'</span>);</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; setw(<span class="number">6</span>) &lt;&lt; vul[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Inspector’s-Dilemma"><a href="#Inspector’s-Dilemma" class="headerlink" title="Inspector’s Dilemma"></a>Inspector’s Dilemma</h1><p><a href="https://vjudge.net/problem/UVA-12118" target="_blank" rel="noopener">UVA - 12118</a></p>
<p>题意： 给你有v个点的完全图， 和e条必须经过的边，和每条边长多少。起点和终点随意， 问你走完这e条边的花费是多少</p>
<p>题解： 这e条边一定会形成m个联通块，要走完这些边，必定要经历所有的联通图， 所以这些块间都得加上一条边。 对每个联通块来说， 最优就是每条边都得走一次， 那么就是一个欧拉道路或回路， 如果不是， 那么我们通过加边来使这个块变成欧拉道路。 那么，我们只需要找出m个联通块， 然后 ， 在每个联通块里看他是不是欧拉道路或回路， 如果不是，那么我们加一条边， 就能消除两个奇点。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pa;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> F first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e3</span> + <span class="number">100</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[Ma];</span><br><span class="line"><span class="keyword">bool</span> vis[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> d, <span class="keyword">int</span>&amp; n)</span></span>&#123;</span><br><span class="line">	vis[d] = <span class="literal">true</span>;</span><br><span class="line">	n += (g[d].size() &amp; <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : g[d]) <span class="keyword">if</span>(!vis[i])</span><br><span class="line">		dfs(i, n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n, e, t, k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; e &gt;&gt; t &amp;&amp; n)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			g[i].clear(), vis[i] = <span class="literal">false</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Case "</span> &lt;&lt; ++k &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> u, v, i = <span class="number">0</span>; i &lt; e; i++)&#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v;</span><br><span class="line">			u--, v--;</span><br><span class="line">			g[u].emplace_back(v), g[v].emplace_back(u);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> ans  = <span class="number">0</span>, cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="keyword">if</span>(!vis[i] &amp;&amp; !g[i].empty())&#123;</span><br><span class="line">			<span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">			dfs(i, num);</span><br><span class="line">			<span class="keyword">if</span>(num &gt; <span class="number">2</span>)ans += (num - <span class="number">2</span>) / <span class="number">2</span>;</span><br><span class="line">			cnt++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; (ans + max(cnt - <span class="number">1</span>, <span class="number">0</span>) + e) * t &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>😆第六章！完了！暴力！我要学暴力！</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2019/11/21/从零到树状数组-线段树/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2019/10/21/算法竞赛入门经典第六章例题-22-22/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2019-11-12 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/problem-solve/">题解<span>19</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/code/">code<span>22</span></a></li> <li><a href="/tags/algrm/">算法竞赛入门经典<span>10</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Parentheses-Balance"><span class="toc-article-text">Parentheses Balance</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#S-Trees"><span class="toc-article-text">S-Trees</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Tree-Recovery"><span class="toc-article-text">Tree Recovery</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Knight-Moves"><span class="toc-article-text">Knight Moves</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Patrol-Robot"><span class="toc-article-text">Patrol Robot</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Equilibrium-Mobile"><span class="toc-article-text">Equilibrium Mobile</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Petri-Net-Simulation"><span class="toc-article-text">Petri Net Simulation</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Spatial-Structures"><span class="toc-article-text">Spatial Structures</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#“Accordian”-Patience"><span class="toc-article-text">“Accordian” Patience</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#10-20-30"><span class="toc-article-text">10-20-30</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Tree-Reconstruction"><span class="toc-article-text">Tree Reconstruction</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#A-Dicey-Problem"><span class="toc-article-text">A Dicey Problem</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Spreadsheet-Calculator"><span class="toc-article-text">Spreadsheet Calculator</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Inspector’s-Dilemma"><span class="toc-article-text">Inspector’s Dilemma</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->




	<div id="comment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#comment' ,
        notify:true, 
        verify:true, 
        appId: 'mpYG5gk3zUSGLHSmW2YgT3oA-gzGzoHsz',
        appKey: 'vV040gPRCKgVKVH5niloUksW',
        placeholder: '评论一下再走嘛o(*￣▽￣*)ブ',
        path:window.location.pathname, 
        avatar:'mm',
        visitor:true
    });
    document.body.addEventListener('click', function(e) {
        if (e.target.classList.contains('vsubmit')) {
            const email = document.querySelector('input[type=email]');
            const nick = document.querySelector('input[name=nick]');
            if (!email.value || !nick.value) {
                const str = `<div class="valert txt-center"><div class="vtext">请填写昵称和邮箱！</div></div>`;
                const vmark = document.querySelector('.vmark');
                vmark.innerHTML = str;
                vmark.style.display = 'block';
                setTimeout(function() {
                    vmark.style.display = 'none';
                    vmark.innerHTML = '';
                }, 2500);
            }
        }
        });
    </script>
	

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2020 Ghost_LZW
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  
  <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'BDeNfFwDjzz41GphGyrf','2.0.0');
  </script>



  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>

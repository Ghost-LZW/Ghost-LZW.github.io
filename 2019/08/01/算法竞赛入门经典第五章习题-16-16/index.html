<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>算法竞赛入门经典第五章习题(16/16) | 蓝灵博客</title>
  <meta name="author" content="Ghost_LZW">
  
  <meta name="description" content="蓝灵博客为Ghost_LZW的博客,acmer,code,soullan.com is a blog in order to record my learning and growth">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="算法竞赛入门经典第五章习题(16/16)"/>
  <meta property="og:site_name" content="蓝灵博客"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="蓝灵博客" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-134518650-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f5b3b5dfc13e08e896e4bd5b5f03ab28";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 4.2.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">蓝灵博客</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> 算法竞赛入门经典第五章习题(16/16)</h1>
		</div>
	



<script type="text/x-mathjax-config">
	MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
			tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
			TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
			messageStyle: "none"
	}); 
</script>
<script type="text/x-mathjax-config">
	MathJax.Hub.Queue(function() {
			var all = MathJax.Hub.getAllJax(), i;
			for(i=0; i < all.length; i += 1) {
					all[i].SourceElement().parentNode.className += ' has-jax';
			}
	});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async>
</script>

<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="Alignment-of-Code"><a href="#Alignment-of-Code" class="headerlink" title="Alignment of Code"></a>Alignment of Code</h2><p><a href="https://vjudge.net/problem/UVA-1593" target="_blank" rel="noopener">UVA-1593</a></p>
<p>题意：给你一段代码，让你进行代码缩进，每列字符得尽量靠左对齐，两段单词间最少一个空格</p>
<p>题解：记录每个字符长度，取列中最长字符串作为宽度格式化输出</p>
<a id="more"></a>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1593.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 16时26分56秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> s[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> cw[<span class="number">1005</span>], cn[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> c = <span class="number">0</span>, r = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">string</span> tem;</span><br><span class="line">	<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, tem))&#123;</span><br><span class="line">		<span class="function"><span class="built_in">istringstream</span> <span class="title">it</span><span class="params">(tem)</span></span>;</span><br><span class="line">		<span class="keyword">while</span>(it &gt;&gt; tem)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">int</span>(tem.length()) &gt; cw[c])</span><br><span class="line">				cw[c] = tem.length();</span><br><span class="line">			s[r][c] = tem;</span><br><span class="line">			c++;</span><br><span class="line">		&#125;</span><br><span class="line">		cn[r++] = c;</span><br><span class="line">		c = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cn[i] - <span class="number">1</span>; j++)</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; left &lt;&lt; setw(cw[j]) &lt;&lt; s[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; s[i][cn[i] - <span class="number">1</span>] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Ducci-Sequence"><a href="#Ducci-Sequence" class="headerlink" title="Ducci Sequence"></a>Ducci Sequence</h2><p><a href="https://vjudge.net/problem/UVA-1594" target="_blank" rel="noopener">UVA-1594</a></p>
<p>题意：给你n个数字，每次操作把前一个数字和后一个数字的差作为当前数字，第n个位第n个和第一个的差，让你判断这样操作下去是否会出现循环，或者全为零。</p>
<p>题解：直接模拟，用set判重</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1594.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 17时06分39秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span>(n--)&#123;</span><br><span class="line">		<span class="built_in">set</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;s;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line">		<span class="keyword">int</span> t;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> tem;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tem);</span><br><span class="line">			v.emplace_back(tem);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(!s.count(v))&#123;</span><br><span class="line">			s.insert(v);</span><br><span class="line">			<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;vv;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">				vv.emplace_back(<span class="built_in">abs</span>(v[i] - v[(i + <span class="number">1</span>) % t]));</span><br><span class="line">			v = vv;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(count(v.begin(), v.end(), <span class="number">0</span>) == t)<span class="built_in">puts</span>(<span class="string">"ZERO"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"LOOP"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Throwing-cards-away-I"><a href="#Throwing-cards-away-I" class="headerlink" title="Throwing cards away I"></a>Throwing cards away I</h2><p><a href="https://vjudge.net/problem/UVA-10935" target="_blank" rel="noopener">UVA-10935</a></p>
<p>题意：给你一个数字，让你完成一个操作，将第一张牌丢掉并输出，把新的第一张牌放在最后，一直操作下去，直到只剩最后一张牌并输出</p>
<p>题解：直接用队列模拟</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10935.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 17时26分39秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Discarded cards:"</span>;</span><br><span class="line">		<span class="keyword">int</span> cnt = n;</span><br><span class="line">		<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			q.push(i);</span><br><span class="line">		<span class="keyword">while</span>(cnt &gt; <span class="number">1</span>)&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; q.front();</span><br><span class="line">			q.pop();</span><br><span class="line">			q.push(q.front());</span><br><span class="line">			q.pop();</span><br><span class="line">			cnt--;</span><br><span class="line">			<span class="keyword">if</span>(cnt != <span class="number">1</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">","</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Remaining card:"</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; q.front() &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Foreign-Exchange"><a href="#Foreign-Exchange" class="headerlink" title="Foreign Exchange"></a>Foreign Exchange</h2><p><a href="https://vjudge.net/problem/UVA-10763" target="_blank" rel="noopener">UVA-10763</a></p>
<p>题意：给你n个请求，a想去b做交换生，只有当b学校也有人想来a学校才成立。问你最后是否能达成所有请求</p>
<p>题解：multiset直接模拟, 之后我又观了dalao的代码，学到了一个骚气的读入挂，有人想去那个学校加一，想去的学校减一，最后如果全为零就行</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10763.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 18时38分42秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n)&#123;</span><br><span class="line">		<span class="built_in">multiset</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;s;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> a, b;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">			<span class="keyword">if</span>(s.count(make_pair(b, a)))</span><br><span class="line">				s.erase(s.find(make_pair(b, a)));</span><br><span class="line">			<span class="keyword">else</span> s.insert(make_pair(a, b));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(s.empty())<span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用数组模拟</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10763plus.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月17日 星期三 14时13分34秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> B[<span class="number">1</span> &lt;&lt; <span class="number">26</span>], *S = B;</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">500100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">rd</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(; *S &lt; <span class="string">'-'</span>; S++);</span><br><span class="line">	<span class="keyword">register</span> <span class="keyword">int</span> x = <span class="keyword">int</span>(*S - <span class="string">'0'</span>);</span><br><span class="line">	<span class="keyword">for</span>(S++; *S &gt;= <span class="string">'0'</span>; S++)x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + <span class="keyword">int</span>(*S - <span class="string">'0'</span>);</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fread(B, <span class="keyword">sizeof</span>(<span class="keyword">char</span>), <span class="number">1</span> &lt;&lt; <span class="number">26</span>, <span class="built_in">stdin</span>);</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>((n = rd()))&#123;</span><br><span class="line">		<span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="keyword">sizeof</span>(s));</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			s[rd()]++, s[rd()]--;</span><br><span class="line">		<span class="keyword">if</span>(count(s, s + <span class="number">500010</span>, <span class="number">0</span>) == <span class="number">500010</span>)<span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Compound-Words"><a href="#Compound-Words" class="headerlink" title="Compound Words"></a>Compound Words</h2><p><a href="https://vjudge.net/problem/UVA-10391" target="_blank" rel="noopener">UVA-10391</a></p>
<p>题意：按字典序给你一堆单词，问你里面能被分为其他两个单词的单词有哪些，并按字典序输出</p>
<p>题解：注意给你的时候就已经是字典序了，，我先是把每个单词尝试用其他单词去拼，好险卡过去了，说明给的单词太多，这样并不优，接着我把每个单词拆开来看是否能在表中找到，这样就能过了，使用unorderset能更省，而且因为unorderedset是hash实现，所以find比count快多了</p>
<p>险些超时</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10391.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 18时49分03秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> str[<span class="number">120100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt;s;</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; str[cnt])</span><br><span class="line">		s.insert(str[cnt++]);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i : s)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cnt; j++)</span><br><span class="line">			<span class="keyword">if</span>(i.find(str[j]) == <span class="number">0</span> &amp;&amp; s.count(i.substr(str[j].length())))&#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用第二种想法，并用unorderedset加速</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10391.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 18时55分03秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">120100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;s;</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; str[cnt])</span><br><span class="line">		s.insert(<span class="built_in">string</span>(str[cnt++]));</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cnt; i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> t = <span class="keyword">int</span>(<span class="built_in">strlen</span>(str[i]));</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; t; j++)&#123;</span><br><span class="line">			<span class="keyword">char</span> tem = str[i][j];</span><br><span class="line">			str[i][j] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span>(s.find(<span class="built_in">string</span>(str[i])) == s.end())&#123;</span><br><span class="line">				str[i][j] = tem;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				str[i][j] = tem;</span><br><span class="line">				<span class="keyword">if</span>(s.find(<span class="built_in">string</span>(str[i] + j)) != s.end())&#123;</span><br><span class="line">					<span class="built_in">puts</span>(str[i]);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Symmetry"><a href="#Symmetry" class="headerlink" title="Symmetry"></a>Symmetry</h2><p><a href="https://vjudge.net/problem/UVA-1595" target="_blank" rel="noopener">UVA-1595</a></p>
<p>题意：给你n个点，问你能否找到一条竖线让他们对称</p>
<p>题解：因为对称，所以最左最右中间那条就是那条线，然后判断能否全局符合，注意很多点都在那条线上的情况,            或者，取最左和最右点判断每个点能否找到相同高度，宽度和位最左最右和的点，这样想更好想更方便</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1595.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 20时09分30秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> mid;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pa;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpp</span><span class="params">(pa a, pa b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x1 = a.first, y1 = a.second, x2 = b.first, y2 = b.second;</span><br><span class="line">	<span class="keyword">if</span>(x1 != x2)<span class="keyword">return</span> x1 &lt; x2;</span><br><span class="line">	<span class="keyword">if</span>(x1 &lt;= mid)<span class="keyword">return</span> y1 &gt; y2;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> y2 &gt; y1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="keyword">int</span> n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span> ,&amp;n);</span><br><span class="line">		<span class="built_in">vector</span>&lt;pa&gt;v;</span><br><span class="line">		<span class="keyword">int</span> l = inf, r = -inf;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> x, y;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">			l = min(l, x);</span><br><span class="line">			r = max(r, x);</span><br><span class="line">			v.emplace_back(pa(x, y));</span><br><span class="line">		&#125;</span><br><span class="line">		mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">		sort(v.begin(), v.end(), cmpp);</span><br><span class="line">		<span class="keyword">bool</span> can = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; can &amp;&amp; i &lt; n / <span class="number">2</span> + (n &amp; <span class="number">1</span>); i++)</span><br><span class="line">			<span class="keyword">if</span>((mid - v[i].first != v[n - i - <span class="number">1</span>].first - (mid + (((r - l) &amp; <span class="number">1</span>) ? <span class="number">1</span> : <span class="number">0</span>)) || v[i].second != v[n - i - <span class="number">1</span>].second) &amp;&amp; (v[i].first != mid || v[n - i - <span class="number">1</span>].first != mid))can = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(can)<span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种想法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1595plus.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月17日 星期三 15时31分54秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pa;</span><br><span class="line"></span><br><span class="line">pa s[<span class="number">1010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ok</span><span class="params">(pa a, <span class="keyword">int</span> n, <span class="keyword">int</span> all)</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> ans = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		<span class="keyword">if</span>(a.second == s[i].second &amp;&amp; a.first + s[i].first == all)ans = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="keyword">int</span> n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span> ,&amp;n);</span><br><span class="line">		<span class="keyword">int</span> l = <span class="number">20000</span>, r = <span class="number">-20000</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> a, b;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">			l = min(l, a);</span><br><span class="line">			r = max(r, a);</span><br><span class="line">			s[i].first = a, s[i].second = b;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">bool</span> can = <span class="literal">true</span>;;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; can &amp;&amp; i &lt; n; i++)</span><br><span class="line">			<span class="keyword">if</span>(!ok(s[i], n, l + r))can = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(can)<span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Printer-Queue"><a href="#Printer-Queue" class="headerlink" title="Printer Queue"></a>Printer Queue</h2><p><a href="https://vjudge.net/problem/UVA-12100" target="_blank" rel="noopener">UVA-12100</a></p>
<p>题意：给你n个打印任务和一个关注对象，任务有优先级，优先级高的先打印，在它前面的到对尾，问你关注对象什么时候能打印</p>
<p>题解：直接模拟，循环数组模拟即可，但这里为了凸显stl，用了队列模拟</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 12100.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月16日 星期二 21时32分08秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; pa;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="keyword">int</span> n, m;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">		priority_queue&lt;<span class="keyword">int</span>&gt;s;</span><br><span class="line">		<span class="built_in">queue</span>&lt;pa&gt;q;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> tem;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tem);</span><br><span class="line">			<span class="keyword">bool</span> ca = (i == m);</span><br><span class="line">			q.push(pa(tem, ca));</span><br><span class="line">			s.push(tem);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> time = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">while</span>(q.front().first != s.top())&#123;</span><br><span class="line">				q.push(q.front());</span><br><span class="line">				q.pop();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(q.front().second)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			q.pop();</span><br><span class="line">			s.pop();</span><br><span class="line">			time++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, time);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Borrowers"><a href="#Borrowers" class="headerlink" title="Borrowers"></a>Borrowers</h2><p><a href="https://vjudge.net/problem/UVA-230" target="_blank" rel="noopener">UVA-230</a></p>
<p>题意：让你模拟一个借书系统，还书时输出把书还到哪儿</p>
<p>题解：先为书建立书库，再直接模拟即可， 注意输出</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 230.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月17日 星期三 16时54分26秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">Put</span><span class="params">(<span class="built_in">string</span> a, <span class="built_in">string</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(b == <span class="string">""</span>)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Put "</span> &lt;&lt; a &lt;&lt; <span class="string">" first\n"</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Put "</span> &lt;&lt; a &lt;&lt; <span class="string">" after "</span> &lt;&lt; b &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Book</span>&#123;</span></span><br><span class="line">	<span class="built_in">string</span> title;</span><br><span class="line">	<span class="built_in">string</span> author;</span><br><span class="line">	<span class="keyword">bool</span> bow;</span><br><span class="line">	Book() : bow(<span class="literal">false</span>)&#123;&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Book b)&#123;</span><br><span class="line">		<span class="keyword">if</span>(author != b.author)<span class="keyword">return</span> author &lt; b.author;</span><br><span class="line">		<span class="keyword">return</span> title &lt; b.title;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;book[<span class="number">12000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">FindPre</span><span class="params">(<span class="keyword">int</span> aim)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> tt = aim;</span><br><span class="line">	<span class="keyword">while</span>(aim &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!book[--aim].bow)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>((aim == <span class="number">0</span> &amp;&amp; book[aim].bow))<span class="keyword">return</span> book[tt].bow = <span class="literal">false</span>, <span class="string">""</span>;</span><br><span class="line">	book[tt].bow = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> book[aim].title;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cmpp</span>&#123;</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> book[b] &lt; book[a];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tem;</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;m;</span><br><span class="line">	<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, tem) &amp;&amp; tem != <span class="string">"END"</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> t = tem.find(<span class="string">"\" by "</span>);</span><br><span class="line">		book[cnt].title = tem.substr(<span class="number">0</span>, t + <span class="number">1</span>);</span><br><span class="line">		book[cnt++].author = tem.substr(t + <span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	sort(book, book + cnt);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cnt; i++)</span><br><span class="line">		m[book[i].title] = i;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">string</span> aim;</span><br><span class="line">	priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, cmpp&gt;need;</span><br><span class="line">	<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, tem) &amp;&amp; tem != <span class="string">"END"</span>)&#123;</span><br><span class="line">		<span class="keyword">auto</span> t = tem.find(<span class="string">' '</span>);</span><br><span class="line">		<span class="keyword">if</span>(t == <span class="built_in">string</span>::npos)aim = tem;</span><br><span class="line">		<span class="keyword">else</span> aim = tem.substr(<span class="number">0</span>, t), tem = tem.erase(<span class="number">0</span>, t + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">if</span>(aim == <span class="string">"BORROW"</span>)book[m[tem]].bow = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(aim == <span class="string">"RETURN"</span>)need.push(m[tem]);</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">while</span>(!need.empty())&#123;</span><br><span class="line">				Put(book[need.top()].title, FindPre(need.top()));</span><br><span class="line">				need.pop();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"END\n"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>巧用lower_bound可以优化代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 230plus.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月17日 星期三 20时14分52秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Book</span>&#123;</span></span><br><span class="line">	<span class="built_in">string</span> ti, au;</span><br><span class="line">	Book(<span class="built_in">string</span> a, <span class="built_in">string</span> b) : ti(a), au(b) &#123;&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Book &amp;bt) <span class="keyword">const</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> au &lt; bt.au || (au == bt.au &amp;&amp; ti &lt; bt.ti);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;Book&gt;k;</span><br><span class="line"><span class="built_in">set</span>&lt;Book&gt;pr;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;mem;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tem;</span><br><span class="line">	<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, tem) &amp;&amp; tem[<span class="number">0</span>] != <span class="string">'E'</span>)&#123;</span><br><span class="line">		<span class="keyword">auto</span> t = tem.find(<span class="string">" by "</span>);</span><br><span class="line">		mem[tem.substr(<span class="number">0</span>, t)] = tem.substr(t + <span class="number">4</span>);</span><br><span class="line">		k.insert(Book(tem.substr(<span class="number">0</span>, t), tem.substr(t + <span class="number">4</span>)));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, tem) &amp;&amp; tem[<span class="number">0</span>] != <span class="string">'E'</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(tem[<span class="number">0</span>] == <span class="string">'S'</span>)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">auto</span> i : pr)&#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">"Put "</span> &lt;&lt; i.ti;</span><br><span class="line">				<span class="keyword">auto</span> t = k.lower_bound(i);</span><br><span class="line">				<span class="keyword">if</span>(k.empty() || t == k.begin())<span class="built_in">cout</span> &lt;&lt; <span class="string">" first\n"</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">" after "</span> &lt;&lt; (--t)-&gt;ti &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">				k.insert(i);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"END\n"</span>;</span><br><span class="line">			pr.clear();</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">string</span> s = tem.substr(<span class="number">7</span>);</span><br><span class="line">			<span class="keyword">if</span>(tem[<span class="number">0</span>] == <span class="string">'B'</span>)k.erase(Book(s, mem[s]));</span><br><span class="line">			<span class="keyword">if</span>(tem[<span class="number">0</span>] == <span class="string">'R'</span>)pr.insert(Book(s, mem[s]));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Bug-Hunt"><a href="#Bug-Hunt" class="headerlink" title="Bug Hunt"></a>Bug Hunt</h2><p><a href="https://vjudge.net/problem/UVA-1596" target="_blank" rel="noopener">UVA-1596</a></p>
<p>题意：给你一段代码，问你能不能找出bug，有定义语句于赋值语句，错误只可能是下标越界或者调用未初始化变量</p>
<p>题解：模拟，对于定义语句记录数组大小，初始化的各个值，赋值语句递归检查是否出席那未初始化或者越界情况</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">  Flie Name: 1596.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月17日 星期三 21时33分17秒</span></span><br><span class="line"><span class="comment"> *********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Arrage</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> size;</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;vec;</span><br><span class="line"></span><br><span class="line">	Arrage()&#123;remove();&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span></span>&#123;size = <span class="number">-1</span>, vec.clear();&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">exists</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> size &gt;= <span class="number">0</span>;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;size = n, vec.clear();&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">setValue</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(index &gt;= size)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		vec[index] = val;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">getVal</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> &amp;val)</span></span>&#123;</span><br><span class="line">		assert(exists());</span><br><span class="line">		<span class="keyword">if</span>(vec.count(index))&#123;</span><br><span class="line">			val = vec[index];</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">200</span>;</span><br><span class="line">Arrage arr[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">eve</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *base, <span class="keyword">int</span> len, <span class="keyword">int</span> &amp;val)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">isdigit</span>(*base))&#123;</span><br><span class="line">		<span class="built_in">sscanf</span>(base, <span class="string">"%d"</span>, &amp;val);</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">char</span> aim = *base;</span><br><span class="line">	<span class="keyword">if</span>(!arr[aim].exists())<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	assert(<span class="built_in">isalpha</span>(aim));</span><br><span class="line">	<span class="keyword">int</span> ne;</span><br><span class="line">	<span class="keyword">if</span>(!eve(base + <span class="number">2</span>, len - <span class="number">3</span>, ne))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> arr[aim].getVal(ne, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> line[<span class="number">1000</span>];</span><br><span class="line">	<span class="keyword">int</span> lineNum = <span class="number">0</span>, bugNum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%s"</span>, line))&#123;</span><br><span class="line">		<span class="keyword">char</span> *fi;</span><br><span class="line">		<span class="keyword">if</span>(line[<span class="number">0</span>] == <span class="string">'.'</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(lineNum)<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, bugNum);</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Ma; i++)arr[i].remove();</span><br><span class="line">			lineNum = <span class="number">0</span>;</span><br><span class="line">			bugNum = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(bugNum)<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span>((fi = <span class="built_in">strchr</span>(line, <span class="string">'='</span>)))&#123;</span><br><span class="line">			<span class="keyword">int</span> index, val, len = <span class="built_in">strlen</span>(line);</span><br><span class="line">			<span class="keyword">if</span>(arr[line[<span class="number">0</span>]].exists()</span><br><span class="line">					&amp;&amp; eve(fi + <span class="number">1</span>, len - (fi - line) - <span class="number">1</span>, val)</span><br><span class="line">					&amp;&amp; eve(line + <span class="number">2</span>, fi - line - <span class="number">3</span>, index)</span><br><span class="line">					&amp;&amp; arr[line[<span class="number">0</span>]].setValue(index, val))</span><br><span class="line">				lineNum++;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				bugNum = lineNum + <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">char</span> aim;</span><br><span class="line">			<span class="keyword">int</span> val;</span><br><span class="line">			<span class="built_in">sscanf</span>(line, <span class="string">"%c[%d]%"</span>, &amp;aim, &amp;val);</span><br><span class="line">			arr[aim].init(val);</span><br><span class="line">			lineNum++;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Searching-the-Web"><a href="#Searching-the-Web" class="headerlink" title="Searching the Web"></a>Searching the Web</h2><p><a href="https://vjudge.net/problem/UVA-1597" target="_blank" rel="noopener">UVA-1597</a></p>
<p>题意：给你n篇文章，有几种询问<br>直接询问，输出包含这个单词的文章中的相关语句，每篇文章分割开<br>AND询问，输出同时包含这两个单词的文章<br>OR询问，输出包含a或者b的文章<br>NOT询问，输出不包含单词的文章</p>
<p>题解：为每篇文章建立对象，直接模拟查询即可</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1597.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月18日 星期四 20时54分29秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;emptySet;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Doc</span>&#123;</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;store;</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; &gt;cous;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="built_in">string</span> &amp;tem)</span></span>&#123;</span><br><span class="line">		store.emplace_back(tem);</span><br><span class="line">		<span class="built_in">string</span> cc;</span><br><span class="line">		<span class="keyword">int</span> tt = tem.length();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tt; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">isalpha</span>(tem[i]))cc += <span class="built_in">tolower</span>(tem[i]);</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(!cc.empty())&#123;</span><br><span class="line">				cous[cc].insert(store.size() - <span class="number">1</span>);</span><br><span class="line">				cc.clear();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!cc.empty())cous[cc].insert(store.size() - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="title">find</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; aim)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(cous.count(aim))<span class="keyword">return</span> cous[aim];</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> emptySet;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Doc dic[<span class="number">110</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">seprat</span><span class="params">(<span class="built_in">string</span> tem, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; qwq)</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="built_in">istringstream</span> <span class="title">is</span><span class="params">(tem)</span></span>;</span><br><span class="line">	<span class="keyword">while</span>(is &gt;&gt; tem)</span><br><span class="line">		qwq.emplace_back(tem);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Output</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; need, <span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; mb)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i : mb)</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; need[i] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> see;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">only</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; aim)</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> first = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		Doc&amp; a = dic[i];</span><br><span class="line">		<span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; fid = a.find(aim);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!fid.empty())&#123;</span><br><span class="line">			<span class="keyword">if</span>(first)<span class="built_in">cout</span> &lt;&lt; <span class="string">"----------\n"</span>;</span><br><span class="line">			Output(a.store, fid), first = <span class="literal">true</span>, see = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">nodes</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; aim)</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> first = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		Doc&amp; a = dic[i];</span><br><span class="line">		<span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; fid = a.find(aim);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(fid.empty())&#123;</span><br><span class="line">			<span class="keyword">if</span>(first)<span class="built_in">cout</span> &lt;&lt; <span class="string">"----------\n"</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">auto</span> i : a.store)</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">			first = <span class="literal">true</span>;</span><br><span class="line">			see = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Orit</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; A, <span class="keyword">const</span> <span class="built_in">string</span>&amp; B)</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> first = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		Doc&amp; a = dic[i];</span><br><span class="line">		<span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; fid = a.find(A);</span><br><span class="line">		<span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; fidd = a.find(B);</span><br><span class="line">		<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!fid.empty() || !fidd.empty())&#123;</span><br><span class="line">			<span class="keyword">if</span>(first)<span class="built_in">cout</span> &lt;&lt; <span class="string">"----------\n"</span>;</span><br><span class="line">			first = <span class="literal">true</span>;</span><br><span class="line">			set_union(fid.begin(), fid.end(), fidd.begin(), fidd.end(), inserter(ans, ans.begin()));</span><br><span class="line">			Output(a.store, ans);</span><br><span class="line">			see = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Andit</span><span class="params">(<span class="built_in">string</span> A, <span class="built_in">string</span> B)</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> first = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		Doc&amp; a = dic[i];</span><br><span class="line">		<span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; fid = a.find(A);</span><br><span class="line">		<span class="keyword">const</span> <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&amp; fidd = a.find(B);</span><br><span class="line">		<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!fid.empty() &amp;&amp; !fidd.empty())&#123;</span><br><span class="line">			<span class="keyword">if</span>(first)<span class="built_in">cout</span> &lt;&lt; <span class="string">"----------\n"</span>;</span><br><span class="line">			first = <span class="literal">true</span>;</span><br><span class="line">			see = <span class="literal">true</span>;</span><br><span class="line">			set_union(fid.begin(), fid.end(), fidd.begin(), fidd.end(), inserter(ans, ans.begin()));</span><br><span class="line">			Output(a.store, ans);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putart</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; qwq)</span></span>&#123;</span><br><span class="line">	see = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span>(qwq.size() == <span class="number">1</span>)only(qwq[<span class="number">0</span>]);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(qwq.size() == <span class="number">2</span>)nodes(qwq[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(qwq[<span class="number">1</span>] == <span class="string">"OR"</span>)Orit(qwq[<span class="number">0</span>], qwq[<span class="number">2</span>]);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(qwq[<span class="number">1</span>] == <span class="string">"AND"</span>)Andit(qwq[<span class="number">0</span>], qwq[<span class="number">2</span>]);</span><br><span class="line">	<span class="keyword">else</span> assert(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">if</span>(!see)<span class="built_in">cout</span> &lt;&lt; <span class="string">"Sorry, I found nothing.\n"</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"==========\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		<span class="built_in">string</span> tem;</span><br><span class="line">		<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, tem) &amp;&amp; tem != <span class="string">"**********"</span>)</span><br><span class="line">			dic[i].build(tem);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T; i++)&#123;</span><br><span class="line">		<span class="built_in">string</span> tem;</span><br><span class="line">		getline(<span class="built_in">cin</span>, tem);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; qwq;</span><br><span class="line">		seprat(tem, qwq);</span><br><span class="line">		putart(qwq);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Updating-a-Dictionary"><a href="#Updating-a-Dictionary" class="headerlink" title="Updating a Dictionary"></a>Updating a Dictionary</h2><p><a href="https://vjudge.net/problem/UVA-12504" target="_blank" rel="noopener">UVA-12504</a></p>
<p>题意：给你一个字典，然后给你更新后的字典， 问你删去了哪些值，添加了哪些值，那些key的val改变了</p>
<p>题解：直接模拟，利用正则表达式可简化这个过程</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 12504.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月19日 星期五 13时37分36秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#define DEBUG</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">readDic</span><span class="params">(<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&amp; dic)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> s[<span class="number">110</span>];</span><br><span class="line">	fgets(s, <span class="keyword">sizeof</span>(s), <span class="built_in">stdin</span>);</span><br><span class="line">	<span class="keyword">int</span> len = <span class="built_in">strlen</span>(s) - <span class="number">1</span>;	</span><br><span class="line">	s[len - <span class="number">1</span>] = <span class="string">','</span>;</span><br><span class="line">	<span class="keyword">char</span> key[<span class="number">110</span>], val[<span class="number">110</span>];</span><br><span class="line">	<span class="keyword">int</span> now = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(now &lt; len - <span class="number">1</span> &amp;&amp; <span class="built_in">sscanf</span>(s + now, <span class="string">"%[^:]:%[^,]"</span>, key, val))&#123;</span><br><span class="line">		now += <span class="built_in">strlen</span>(key) + <span class="built_in">strlen</span>(val) + <span class="number">2</span>;</span><br><span class="line">		dic[<span class="built_in">string</span>(key)] = <span class="built_in">string</span>(val);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;old, xin;</span><br><span class="line">		getchar();</span><br><span class="line">		readDic(old);</span><br><span class="line">		getchar();</span><br><span class="line">		readDic(xin);</span><br><span class="line">		<span class="keyword">if</span>(old == xin)<span class="built_in">puts</span>(<span class="string">"No changes"</span>);</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">auto</span> i : xin)&#123;</span><br><span class="line">				<span class="keyword">if</span>(!old.count(i.first))&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"%c%s"</span>, first ? first = <span class="literal">false</span>, <span class="string">'+'</span> : <span class="string">','</span>, i.first.c_str());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(!first)<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">			first = <span class="literal">true</span>;</span><br><span class="line">			<span class="built_in">queue</span>&lt;<span class="built_in">string</span>&gt;change;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">auto</span> i : old)&#123;</span><br><span class="line">				<span class="keyword">if</span>(!xin.count(i.first))&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"%c%s"</span>, first ? first = <span class="literal">false</span>, <span class="string">'-'</span> : <span class="string">','</span>, i.first.c_str());</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(i.second != xin[i.first])change.push(i.first);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(!first)<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">			<span class="keyword">if</span>(change.size())&#123;</span><br><span class="line">				<span class="built_in">putchar</span>(<span class="string">'*'</span>);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s"</span>, change.front().c_str());</span><br><span class="line">				change.pop();</span><br><span class="line">				<span class="keyword">while</span>(!change.empty())&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">",%s"</span>, change.front().c_str());</span><br><span class="line">					change.pop();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Do-You-Know-the-Way-to-San-Jose"><a href="#Do-You-Know-the-Way-to-San-Jose" class="headerlink" title="Do You Know the Way to San Jose?"></a>Do You Know the Way to San Jose?</h2><p><a href="https://vjudge.net/problem/UVA-511" target="_blank" rel="noopener">UVA-511</a></p>
<p>题意：给你数张地图，再给你数个地点，然后问你地点在某个等级的地图是否存在，如不存在那个等级的地图，就找到等级最小的包含他的地图，不存在包含他的地图就输出不存在包含他的地图，不存在地点就输出不存在地点</p>
<p>题解：对每个地图建立对象，对每个查询如果地点存在则对包含它的地图进行排序，输出序列中的要求等级的地图，如不存在，按要求处理</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 511.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月19日 星期五 14时59分30秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmpp</span><span class="params">(<span class="keyword">double</span> a)</span></span>&#123;<span class="keyword">if</span>(<span class="built_in">fabs</span>(a) &lt; eps)<span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">return</span> a &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">-1</span>;&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>&#123;<span class="keyword">return</span> cmpp(a - b);&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Map</span>&#123;</span></span><br><span class="line">	<span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">double</span> x1, y1, x2, y2;</span><br><span class="line">	<span class="keyword">double</span> x0, y0, yx, yy;</span><br><span class="line">	<span class="keyword">double</span> ratio;</span><br><span class="line">	<span class="keyword">double</span> size;</span><br><span class="line">	Map(<span class="built_in">string</span> s, <span class="keyword">double</span> x, <span class="keyword">double</span> y, <span class="keyword">double</span> xx, <span class="keyword">double</span> yy) : name(s), x1(x), y1(y), x2(xx), y2(yy) &#123;</span><br><span class="line">		x0 = (x1 + x2) / <span class="number">2.0</span>;</span><br><span class="line">		y0 = (y1 + y2) / <span class="number">2.0</span>;</span><br><span class="line">		yx = max(x1, x2);</span><br><span class="line">		yy = min(y1, y2);</span><br><span class="line">		ratio = <span class="built_in">fabs</span>(<span class="built_in">fabs</span>(y1 - y2) / <span class="built_in">fabs</span>(x1 - x2) - <span class="number">0.75</span>);</span><br><span class="line">		size = <span class="built_in">fabs</span>(y1 - y2) * <span class="built_in">fabs</span>(x1 - x2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">Center</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (x0 - x) * (x0 - x) + (y0 - y) * (y0 - y);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">ToRight</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (yx - x) * (yx - x) + (yy - y) * (yy - y);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">inHere</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (<span class="built_in">abs</span>(cmp(x, x1) + cmp(x, x2)) &lt; <span class="number">2</span> &amp;&amp; <span class="built_in">abs</span>(cmp(y, y1) + cmp(y, y2)) &lt; <span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Map&gt;base;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Loc</span>&#123;</span></span><br><span class="line">	<span class="keyword">double</span> x, y;</span><br><span class="line">	Loc(<span class="keyword">double</span> xx, <span class="keyword">double</span> yy) : x(xx), y(yy) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> c = cmp(base[a].size, base[b].size);</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		</span><br><span class="line">		c = cmp(base[a].Center(x, y), base[b].Center(x, y));</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		c = cmp(base[a].ratio, base[b].ratio);</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		c = cmp(base[a].ToRight(x, y), base[b].ToRight(x, y));</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> base[a].x0 &gt;= base[b].x0;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, pair&lt;<span class="keyword">double</span>, <span class="keyword">double</span>&gt; &gt;loc;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findQuee</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; smap, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; level, <span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> all = base.size();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; all; i++)</span><br><span class="line">		<span class="keyword">if</span>(base[i].inHere(x, y))smap.emplace_back(i);</span><br><span class="line">	sort(smap.begin(), smap.end(), Loc(x, y));</span><br><span class="line">	all = smap.size();</span><br><span class="line">	level.assign(all, <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; all; i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> c = cmp(base[smap[i]].size, base[smap[i - <span class="number">1</span>]].size);</span><br><span class="line">		assert(c != <span class="number">1</span>);</span><br><span class="line">		level[i] = level[i - <span class="number">1</span>] - c;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">querry</span><span class="params">(<span class="built_in">string</span> name, <span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="string">" at detail level "</span> &lt;&lt; level &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">	<span class="keyword">if</span>(!loc.count(name))&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"unknown location\n"</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;smap, lv;</span><br><span class="line">	findQuee(smap, lv, loc[name].first, loc[name].second);</span><br><span class="line">	<span class="keyword">if</span>(smap.empty())</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"no map contains that location\n"</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(level &gt; lv.back())</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"no map at that detail level; using "</span> &lt;&lt; base[smap.back()].name &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> fid = upper_bound(lv.begin(), lv.end(), level) - lv.begin() - <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"using "</span> &lt;&lt; base[smap[fid]].name &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">string</span> tem;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; tem;</span><br><span class="line">	assert(tem == <span class="string">"MAPS"</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; tem &amp;&amp; tem != <span class="string">"LOCATIONS"</span>)&#123;</span><br><span class="line">		<span class="keyword">double</span> x1, y1, x2, y2;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">		base.emplace_back(Map(tem, x1, y1, x2, y2));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; tem &amp;&amp; tem != <span class="string">"REQUESTS"</span>)&#123;</span><br><span class="line">		<span class="keyword">double</span> x, y;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">		loc[tem] = make_pair(x, y);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; tem &amp;&amp; tem != <span class="string">"END"</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> level;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; level;</span><br><span class="line">		querry(tem, level);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Queue-and-A"><a href="#Queue-and-A" class="headerlink" title="Queue and A"></a>Queue and A</h2><p><a href="https://vjudge.net/problem/UVA-822" target="_blank" rel="noopener">UVA - 822</a></p>
<p>题意：给你n个类型的请求，和m个客服，让客服来处理这些请求，问你要处理多久</p>
<p>题解：将类型的请求全处理为单个请求，将空闲客服也可处理成相应请求，然后按时间发展将请求一个个入相应集合，并进行匹配，每匹配一个客服，就把下一个时间客服空闲时压入请求队列中，模拟解决。 注意事件请求可能有许多相同类型事件等待处理，需要用multiset来处理</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 822plus.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月20日 星期六 19时59分29秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Topic</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> pid, num, begin, cost, betw;</span><br><span class="line">	Topic(<span class="keyword">int</span> id, <span class="keyword">int</span> nu, <span class="keyword">int</span> be, <span class="keyword">int</span> co, <span class="keyword">int</span> bet) : </span><br><span class="line">		pid(id), num(nu), begin(be), cost(co), betw(bet)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Topic&gt;job;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Event</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> time, idx;</span><br><span class="line">	<span class="keyword">bool</span> yg;</span><br><span class="line">	Event(<span class="keyword">int</span> ti, <span class="keyword">int</span> id, <span class="keyword">bool</span> is = <span class="literal">false</span>) : time(ti), idx(id), yg(is)&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Event b) <span class="keyword">const</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> time &gt; b.time;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Man</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> pid, last;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;job;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Man b)<span class="keyword">const</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> last &lt; b.last || (last == b.last &amp;&amp; pid &lt; b.pid);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;man[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">priority_queue&lt;Event&gt;ev;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">juWay</span>&#123;</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> man[b] &lt; man[a];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> T, n;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>, juWay&gt;mjob[<span class="number">220</span>];</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; freeMan;</span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; work;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">clean</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		mjob[i].clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;	</span><br><span class="line">	clean();</span><br><span class="line">	<span class="keyword">int</span> time = ev.top().time;</span><br><span class="line">	<span class="keyword">while</span>(!ev.empty() &amp;&amp; ev.top().time == time)&#123;</span><br><span class="line">		<span class="keyword">auto</span>&amp; s = ev.top();</span><br><span class="line">		<span class="keyword">if</span>(s.yg)freeMan.insert(s.idx);</span><br><span class="line">		<span class="keyword">else</span> work.insert(s.idx);</span><br><span class="line">		ev.pop();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(!freeMan.empty() &amp;&amp; !work.empty())&#123;</span><br><span class="line">		<span class="keyword">bool</span> can = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">auto</span> i : freeMan)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">auto</span> j : man[i].job)&#123;</span><br><span class="line">				<span class="keyword">if</span>(work.count(j))&#123;</span><br><span class="line">					<span class="keyword">if</span>(!can)can = <span class="literal">true</span>;</span><br><span class="line">					mjob[j].insert(i);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!can)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">while</span>(work.count(i) &amp;&amp; !mjob[i].empty())&#123;</span><br><span class="line">				work.erase(work.lower_bound(i));</span><br><span class="line">				<span class="keyword">auto</span> b = mjob[i].begin();</span><br><span class="line">				freeMan.erase(*b);</span><br><span class="line">				man[*b].last = time;</span><br><span class="line">				ev.push(Event(time + job[i].cost, *b, <span class="literal">true</span>));</span><br><span class="line">				mjob[i].erase(b);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(ev.empty()) <span class="built_in">cout</span> &lt;&lt; <span class="string">"Scenario "</span>&lt;&lt; T &lt;&lt; <span class="string">": All requests are serviced within "</span>&lt;&lt; time &lt;&lt; <span class="string">" minutes.\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;mp;</span><br><span class="line">	T = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">		mp.clear(), job.clear(), freeMan.clear(), work.clear();</span><br><span class="line">		++T;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> pid, num, begin, cost, bew;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; pid &gt;&gt; num &gt;&gt; begin &gt;&gt; cost &gt;&gt; bew;</span><br><span class="line">			mp[pid] = i;</span><br><span class="line">			job.emplace_back(Topic(i, num, begin, cost, bew));</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num; j++)</span><br><span class="line">				ev.push(Event(begin + j * bew, i));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> m;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; m;</span><br><span class="line">		assert(m &lt; <span class="number">10</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> pid, jobn;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; pid &gt;&gt; jobn;</span><br><span class="line">			man[i].pid = i;</span><br><span class="line">			man[i].job.clear();</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; jobn; j++)&#123;</span><br><span class="line">				<span class="built_in">cin</span> &gt;&gt; pid;</span><br><span class="line">				assert(mp.count(pid));</span><br><span class="line">				man[i].job.emplace_back(mp[pid]);</span><br><span class="line">				ev.push(Event(<span class="number">0</span>, i, <span class="literal">true</span>));</span><br><span class="line">			&#125;</span><br><span class="line">			man[i].last = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(!ev.empty())solve();</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Exchange"><a href="#Exchange" class="headerlink" title="Exchange"></a>Exchange</h2><p><a href="https://vjudge.net/problem/UVA-1598" target="_blank" rel="noopener">UVA-1598</a></p>
<p>题意：模拟商品交易，有BUY订单和SELL订单，和CANXEL取消订单，每次命令后都得输出当前最高的bid price及这个价位的规模, 最低的ask price及这个价位规模，对每个buy和sell，订单进来时如果能交易（能交易定义为buy的价格不小于最低的ask price，或者sell的价格不大于最高的bid price），就进行交易，并输出交易的订单金额和交易规模</p>
<p>题解：包含在题意中，按题意模拟即可,运用cacel数组来标记那些被cacel了，对于cacel命令不计入，所以用order数组来为各个命令重新标记</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1598plus.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月29日 星期一 09时10分33秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e4</span> + <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Order</span>&#123;</span></span><br><span class="line">	<span class="keyword">bool</span> buy;</span><br><span class="line">	<span class="keyword">int</span> size;</span><br><span class="line">	<span class="keyword">int</span> price;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Order&gt;orders;</span><br><span class="line"><span class="keyword">int</span> orderIndex[Ma];</span><br><span class="line"><span class="keyword">bool</span> cancleIndex[Ma];</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> OrderCmp&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PriorityQue</span>&#123;</span></span><br><span class="line">	<span class="built_in">set</span>&lt;<span class="keyword">int</span>, OrderCmp&gt;my;</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;allsize;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> ind)</span></span>&#123;my.insert(ind); Order&amp; a = orders[ind]; allsize[a.price] += a.size;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> my.empty();&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">topsize</span><span class="params">()</span></span>&#123;<span class="keyword">int</span> i = *my.begin(); <span class="keyword">return</span> allsize[orders[i].price];&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">topval</span><span class="params">()</span></span>&#123;<span class="keyword">int</span> i = *my.begin(); <span class="keyword">return</span> orders[i].price;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;my.clear(); allsize.clear();&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> ind)</span></span>&#123;allsize[orders[ind].price] -= orders[ind].size; my.erase(ind);&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span></span>&#123;<span class="keyword">int</span> ans = *my.begin(); erase(ans); <span class="keyword">return</span> ans;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BuyCmp</span>&#123;</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">const</span> Order &amp;i = orders[a], &amp;j = orders[b];</span><br><span class="line">		<span class="keyword">return</span> i.price &gt; j.price || (i.price == j.price &amp;&amp; a &lt; b);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SellCmp</span>&#123;</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> i, <span class="keyword">const</span> <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">		<span class="keyword">const</span> Order &amp;a = orders[i], &amp;b = orders[j];</span><br><span class="line">		<span class="keyword">return</span> a.price &lt; b.price || (a.price == b.price &amp;&amp; i &lt; j);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">PriorityQue&lt;BuyCmp&gt;buyQuerry;</span><br><span class="line">PriorityQue&lt;SellCmp&gt;sellQuerry;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cancle</span><span class="params">(<span class="keyword">int</span> ind)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> index = orderIndex[ind];</span><br><span class="line">	<span class="keyword">if</span>(cancleIndex[index])<span class="keyword">return</span> ;</span><br><span class="line">	<span class="keyword">if</span>(orders[index].buy)buyQuerry.erase(index);</span><br><span class="line">	<span class="keyword">else</span> sellQuerry.erase(index);</span><br><span class="line">	cancleIndex[index] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">trade</span><span class="params">(<span class="keyword">int</span> sl, <span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"TRADE %d %d\n"</span>, sl, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">py</span><span class="params">(<span class="keyword">int</span> indx)</span></span>&#123;</span><br><span class="line">	<span class="keyword">auto</span>&amp; it = orders[indx];</span><br><span class="line">	<span class="keyword">if</span>(it.buy)&#123;</span><br><span class="line">		<span class="keyword">while</span>(!sellQuerry.empty() &amp;&amp; it.size &amp;&amp;</span><br><span class="line">				sellQuerry.topval() &lt;= it.price)&#123;</span><br><span class="line">			<span class="keyword">int</span> sind = sellQuerry.pop();</span><br><span class="line">			Order&amp; se = orders[sind];</span><br><span class="line">			<span class="keyword">int</span> msize = min(it.size, se.size);</span><br><span class="line">			trade(msize, se.price);</span><br><span class="line">			it.size -= msize;</span><br><span class="line">			se.size -= msize;</span><br><span class="line">			<span class="keyword">if</span>(se.size)sellQuerry.push(sind);</span><br><span class="line">			<span class="keyword">else</span> cancleIndex[sind] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(it.size)buyQuerry.push(indx);</span><br><span class="line">		<span class="keyword">else</span> cancleIndex[indx] = <span class="literal">true</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(!buyQuerry.empty() &amp;&amp; it.size &amp;&amp; </span><br><span class="line">				buyQuerry.topval() &gt;= it.price)&#123;</span><br><span class="line">			<span class="keyword">int</span> bind = buyQuerry.pop();</span><br><span class="line">			Order&amp; be = orders[bind];</span><br><span class="line">			<span class="keyword">int</span> msize = min(it.size, be.size);</span><br><span class="line">			trade(msize, be.price);</span><br><span class="line">			it.size -= msize;</span><br><span class="line">			be.size -= msize;</span><br><span class="line">			<span class="keyword">if</span>(be.size)buyQuerry.push(bind);</span><br><span class="line">			<span class="keyword">else</span> cancleIndex[bind] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(it.size)sellQuerry.push(indx);</span><br><span class="line">		<span class="keyword">else</span> cancleIndex[indx] = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">repo</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> ask = <span class="number">0</span>, ap = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> sell = <span class="number">0</span>, sp = <span class="number">99999</span>;</span><br><span class="line">	<span class="keyword">if</span>(!buyQuerry.empty())&#123;</span><br><span class="line">		ask = buyQuerry.topsize();</span><br><span class="line">		ap = buyQuerry.topval();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(!sellQuerry.empty())&#123;</span><br><span class="line">		sell = sellQuerry.topsize();</span><br><span class="line">		sp = sellQuerry.topval();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"QUOTE %d %d - %d %d\n"</span>, ask, ap, sell, sp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	orders.clear();</span><br><span class="line">	fill_n(orderIndex, n, <span class="number">-1</span>);</span><br><span class="line">	fill_n(cancleIndex, n, <span class="literal">false</span>);</span><br><span class="line">	buyQuerry.clear();</span><br><span class="line">	sellQuerry.clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">bool</span> to = <span class="literal">false</span>;;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))&#123;</span><br><span class="line">		<span class="keyword">if</span>(to)<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">		<span class="keyword">else</span> to = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">char</span> s[<span class="number">100</span>];</span><br><span class="line">		init(n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s);</span><br><span class="line">			<span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'C'</span>)&#123;</span><br><span class="line">				<span class="keyword">int</span> ind;</span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;ind);</span><br><span class="line">				ind--;</span><br><span class="line">				Cancle(ind);</span><br><span class="line">				repo();</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			Order o;</span><br><span class="line">			o.buy = (s[<span class="number">0</span>] == <span class="string">'B'</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;o.size, &amp;o.price);</span><br><span class="line">			orderIndex[i] = orders.size();</span><br><span class="line">			orders.emplace_back(o);</span><br><span class="line">			py(orderIndex[i]);</span><br><span class="line">			repo();</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Revenge-of-Fibonacci"><a href="#Revenge-of-Fibonacci" class="headerlink" title="Revenge of Fibonacci"></a>Revenge of Fibonacci</h2><p><a href="https://cn.vjudge.net/problem/UVA-12333" target="_blank" rel="noopener">UVA-12333</a></p>
<p>题意：给你n个fibonacci数的前几位数，问你他属于第几个fibonacci数</p>
<p>题解：因为数据范围很小，只有100000个fibonacci数，所以我们打表记录下各个fibonacci数的前40个，注意似乎前40个，所以我们只要高精度模拟，超过40位时，我们只多取后面十几位的数，维护前40位就可以了，对这些fibonacci数可建立一颗字典数，方便查找</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: SolutionPlus.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019年07月29日 星期一 17时19分54秒</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e7</span> + <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> next[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">int</span> id;</span><br><span class="line">&#125;node[Ma];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> glo;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">char</span>* s, <span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i]; i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = s[i] - <span class="string">'0'</span>;</span><br><span class="line">		<span class="keyword">if</span>(node[cur].next[v] == <span class="number">-1</span>)</span><br><span class="line">			node[cur].next[v] = ++glo;</span><br><span class="line">		cur = node[cur].next[v];</span><br><span class="line">		<span class="keyword">if</span>(node[cur].id == <span class="number">-1</span>)node[cur].id = id;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">db</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">2</span>][<span class="number">100000</span>];</span><br><span class="line">	<span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line">	<span class="built_in">memset</span>(node, <span class="number">-1</span>, <span class="keyword">sizeof</span>(node));</span><br><span class="line">	a[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">'1'</span>;</span><br><span class="line">	a[<span class="number">1</span>][<span class="number">0</span>] = <span class="string">'1'</span>;</span><br><span class="line">	build(a[<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; <span class="number">100000</span>; i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> p = i &amp; <span class="number">1</span>, q = !p;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> pos = l; pos &lt; r; pos++)&#123;</span><br><span class="line">		 	<span class="keyword">if</span>(a[p][pos])a[p][pos] += a[q][pos] - <span class="string">'0'</span>;</span><br><span class="line">			<span class="keyword">else</span> a[p][pos] = a[q][pos];</span><br><span class="line">			<span class="keyword">if</span>(a[p][pos] &gt; <span class="string">'9'</span>)&#123;</span><br><span class="line">				a[p][pos] -= <span class="number">10</span>;</span><br><span class="line">				<span class="keyword">if</span>(a[p][pos + <span class="number">1</span>])a[p][pos + <span class="number">1</span>]++;</span><br><span class="line">				<span class="keyword">else</span> a[p][pos + <span class="number">1</span>] = <span class="string">'1'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		 &#125;</span><br><span class="line">		 <span class="keyword">if</span>(a[p][r])r++;</span><br><span class="line">		 <span class="keyword">if</span>(r - l &gt; <span class="number">56</span>)l++;</span><br><span class="line">		 <span class="keyword">char</span> n[<span class="number">100</span>];</span><br><span class="line">		 <span class="keyword">int</span> len = min(r - l, <span class="number">45</span>);</span><br><span class="line">		 <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)n[j] = a[p][r - j - <span class="number">1</span>];</span><br><span class="line">		 n[len] = <span class="number">0</span>;</span><br><span class="line">		 build(n, i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ele</span><span class="params">(<span class="keyword">char</span>* s)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i]; i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = s[i] - <span class="string">'0'</span>;</span><br><span class="line">		cur = node[cur].next[v];</span><br><span class="line">		<span class="keyword">if</span>(cur == <span class="number">-1</span>)<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> node[cur].id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, k = <span class="number">0</span>;</span><br><span class="line">	db();</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span>(n--)&#123;</span><br><span class="line">		<span class="keyword">char</span> aim[<span class="number">100</span>];</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, aim);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>, ++k, ele(aim));</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-of-Hospital-Facilities"><a href="#Use-of-Hospital-Facilities" class="headerlink" title="Use of Hospital Facilities"></a>Use of Hospital Facilities</h2><p><a href="https://vjudge.net/problem/UVA-212" target="_blank" rel="noopener">UVA-212</a></p>
<p>题意：医院有n个手术室， m个休息室，病人做完手术就要去休息室，每天开始时间给出，腾出一个手术室，休息室，病人走到休息室的时间也给出，再给你病人的预约名单，问你明天的时间表和床的利用效率</p>
<p>题解：先按病人的顺序计算出手术完成的时间，然后根据这个计算出病人的休息房间安排，注意，时按手术完成的时将进行安排，而不是走到休息室进行安排，也就是说，如果手术完了哪间休息室就安排给他了，即便他走到休息室时序号更小的休息室空出来了，他也不能去，在这里wa了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">flie name: 212.cpp</span></span><br><span class="line"><span class="comment">author: liupo</span></span><br><span class="line"><span class="comment">email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">creat time: 2019年07月30日 星期二 11时15分01秒</span></span><br><span class="line"><span class="comment"> *********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> expa(i) i.first, i.second</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pr;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">patient</span>&#123;</span></span><br><span class="line">	<span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">int</span> opn, ren;</span><br><span class="line">	<span class="keyword">int</span> opbe, rebe;</span><br><span class="line">	<span class="keyword">int</span> opr, rer;</span><br><span class="line">	patient(<span class="built_in">string</span> s, <span class="keyword">int</span> op, <span class="keyword">int</span> re) : name(s), opn(op), ren(re) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;patient&gt;pa;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">encmp</span>&#123;</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> pa[a].rebe &lt; pa[b].rebe || (pa[a].rebe == pa[b].rebe &amp;&amp; pa[a].opr &lt; pa[b].opr);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> opuse[<span class="number">50</span>], reuse[<span class="number">50</span>];</span><br><span class="line"><span class="keyword">bool</span> order[<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> opm, rem, bt, otop, top, tre, n;</span><br><span class="line"><span class="keyword">int</span> last = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getmin</span><span class="params">()</span></span>&#123;</span><br><span class="line">	rep(i, rem)<span class="keyword">if</span>(!order[i])<span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">	assert(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">return</span> rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">pr <span class="title">gettime</span><span class="params">(<span class="keyword">int</span> minc)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> make_pair(bt + minc / <span class="number">60</span>, minc % <span class="number">60</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putlist</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">" Patient          Operating Room          Recovery Room"</span>);</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">" #  Name     Room#  Begin   End      Bed#  Begin    End"</span>);</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">" ------------------------------------------------------"</span>);</span><br><span class="line">	rep(i, n)&#123;</span><br><span class="line">		pr opbegin = gettime(pa[i].opbe);</span><br><span class="line">		pr opend = gettime(pa[i].opbe + pa[i].opn);</span><br><span class="line">		pr rebegin = gettime(pa[i].rebe);</span><br><span class="line">		pr reend = gettime(pa[i].rebe + pa[i].ren);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%2d  %-9s %2d   %2d:%02d   %2d:%02d     %2d   %2d:%02d   %2d:%02d\n"</span>,</span><br><span class="line">				i + <span class="number">1</span>, pa[i].name.c_str(), pa[i].opr, expa(opbegin), expa(opend), pa[i].rer, expa(rebegin), expa(reend));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putfac</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">"Facility Utilization"</span>);</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">"Type  # Minutes  % Used"</span>);</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">"-------------------------"</span>);</span><br><span class="line">	rep(i, opm)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Room %2d    %4d  %6.2f\n"</span>, i + <span class="number">1</span>, opuse[i + <span class="number">1</span>], last == <span class="number">0</span> ? <span class="number">0</span> : <span class="keyword">double</span>(<span class="number">100.0</span> * opuse[i + <span class="number">1</span>] / (<span class="number">1.0</span> * last)));</span><br><span class="line">	&#125;</span><br><span class="line">	rep(i, rem)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Bed  %2d    %4d  %6.2f\n"</span>, i + <span class="number">1</span>, reuse[i + <span class="number">1</span>], last == <span class="number">0</span> ? <span class="number">0</span> : <span class="keyword">double</span>(<span class="number">100.0</span> * reuse[i + <span class="number">1</span>] / (<span class="number">1.0</span> * last)));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(opuse, <span class="number">0</span>, <span class="keyword">sizeof</span>(opuse));</span><br><span class="line">	<span class="built_in">memset</span>(reuse, <span class="number">0</span> , <span class="keyword">sizeof</span>(reuse));</span><br><span class="line">	<span class="built_in">memset</span>(order, <span class="number">0</span>, <span class="keyword">sizeof</span>(order));</span><br><span class="line">	last = <span class="number">0</span>;</span><br><span class="line">	pa.clear();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d%d%d%d"</span>, &amp;opm, &amp;rem, &amp;bt, &amp;otop, &amp;top, &amp;tre, &amp;n))&#123;</span><br><span class="line">		init();</span><br><span class="line">		<span class="built_in">set</span>&lt;<span class="keyword">int</span>, encmp&gt;been;</span><br><span class="line">		priority_queue&lt;pr, <span class="built_in">vector</span>&lt;pr&gt;, greater&lt;pr&gt; &gt;enop;</span><br><span class="line">		priority_queue&lt;pr, <span class="built_in">vector</span>&lt;pr&gt;, greater&lt;pr&gt; &gt;enre;</span><br><span class="line">		<span class="keyword">int</span> opuid = <span class="number">1</span>;	</span><br><span class="line">		rep(i, n)&#123;</span><br><span class="line">			<span class="keyword">char</span> name[<span class="number">100</span>];</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">			<span class="keyword">int</span> op, re;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;op, &amp;re);</span><br><span class="line">			pa.emplace_back(patient(<span class="built_in">string</span>(name), op, re));</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">int</span>(enop.size()) &lt; opm)&#123;</span><br><span class="line">				pa[i].opbe = <span class="number">0</span>;</span><br><span class="line">				pa[i].opr = opuid;</span><br><span class="line">				pa[i].rebe = op + otop;</span><br><span class="line">				enop.push(pr(top + op, opuid++));</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				pa[i].opbe = enop.top().first;</span><br><span class="line">				<span class="keyword">int</span> uid = enop.top().second;</span><br><span class="line">				pa[i].rebe = op + pa[i].opbe + otop;</span><br><span class="line">				pa[i].opr = uid;</span><br><span class="line">				enop.pop();</span><br><span class="line">				enop.push(pr(pa[i].opbe + top + op, uid));</span><br><span class="line">			&#125;</span><br><span class="line">			opuse[pa[i].opr] += op;</span><br><span class="line">			been.insert(i);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i : been)&#123;</span><br><span class="line">			<span class="keyword">while</span>(!enre.empty() &amp;&amp; enre.top().first &lt;= pa[i].rebe - otop)&#123;</span><br><span class="line">				order[enre.top().second - <span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">				enre.pop();</span><br><span class="line">			&#125;</span><br><span class="line">			pa[i].rer = getmin();</span><br><span class="line">			enre.push(pr(pa[i].rebe + pa[i].ren + tre, pa[i].rer));</span><br><span class="line">			order[pa[i].rer - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">			reuse[pa[i].rer] += pa[i].ren;</span><br><span class="line">			last = max(last, pa[i].ren + pa[i].rebe);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		putlist();</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">		putfac();</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>至此，算法入门经典语言篇第五章完结，下面进入第六章基础篇的学习</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2019/09/01/Ubuntu死机解决方案/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2019/07/31/算法竞赛入门经典第五章例题-12-12/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2019-08-01 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/problem-solve/">题解<span>15</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/code/">code<span>20</span></a></li> <li><a href="/tags/algrm/">算法竞赛入门经典<span>9</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Alignment-of-Code"><span class="toc-article-text">Alignment of Code</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Ducci-Sequence"><span class="toc-article-text">Ducci Sequence</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Throwing-cards-away-I"><span class="toc-article-text">Throwing cards away I</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Foreign-Exchange"><span class="toc-article-text">Foreign Exchange</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Compound-Words"><span class="toc-article-text">Compound Words</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Symmetry"><span class="toc-article-text">Symmetry</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Printer-Queue"><span class="toc-article-text">Printer Queue</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Borrowers"><span class="toc-article-text">Borrowers</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Bug-Hunt"><span class="toc-article-text">Bug Hunt</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Searching-the-Web"><span class="toc-article-text">Searching the Web</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Updating-a-Dictionary"><span class="toc-article-text">Updating a Dictionary</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Do-You-Know-the-Way-to-San-Jose"><span class="toc-article-text">Do You Know the Way to San Jose?</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Queue-and-A"><span class="toc-article-text">Queue and A</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Exchange"><span class="toc-article-text">Exchange</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Revenge-of-Fibonacci"><span class="toc-article-text">Revenge of Fibonacci</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Use-of-Hospital-Facilities"><span class="toc-article-text">Use of Hospital Facilities</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->




	<div id="comment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#comment' ,
        notify:true, 
        verify:true, 
        appId: 'mpYG5gk3zUSGLHSmW2YgT3oA-gzGzoHsz',
        appKey: 'vV040gPRCKgVKVH5niloUksW',
        placeholder: '评论一下再走嘛o(*￣▽￣*)ブ',
        path:window.location.pathname, 
        avatar:'mm',
        visitor:true
    });
    document.body.addEventListener('click', function(e) {
        if (e.target.classList.contains('vsubmit')) {
            const email = document.querySelector('input[type=email]');
            const nick = document.querySelector('input[name=nick]');
            if (!email.value || !nick.value) {
                const str = `<div class="valert txt-center"><div class="vtext">请填写昵称和邮箱！</div></div>`;
                const vmark = document.querySelector('.vmark');
                vmark.innerHTML = str;
                vmark.style.display = 'block';
                setTimeout(function() {
                    vmark.style.display = 'none';
                    vmark.innerHTML = '';
                }, 2500);
            }
        }
        });
    </script>
	

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2020 Ghost_LZW
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  
  <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'BDeNfFwDjzz41GphGyrf','2.0.0');
  </script>



  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>

<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>ç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ç¬¬å…­ç« ä¾‹é¢˜(22/22) | è“çµåšå®¢</title>
  <meta name="author" content="Ghost_LZW">
  
  <meta name="description" content="è“çµåšå®¢ä¸ºGhost_LZWçš„åšå®¢,acmer,code,soullan.com is a blog in order to record my learning and growth">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="ç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ç¬¬å…­ç« ä¾‹é¢˜(22/22)"/>
  <meta property="og:site_name" content="è“çµåšå®¢"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="è“çµåšå®¢" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-134518650-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f5b3b5dfc13e08e896e4bd5b5f03ab28";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 4.2.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">è“çµåšå®¢</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> ç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ç¬¬å…­ç« ä¾‹é¢˜(22/22)</h1>
		</div>
	



<script type="text/x-mathjax-config">
	MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
			tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
			TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
			messageStyle: "none"
	}); 
</script>
<script type="text/x-mathjax-config">
	MathJax.Hub.Queue(function() {
			var all = MathJax.Hub.getAllJax(), i;
			for(i=0; i < all.length; i += 1) {
					all[i].SourceElement().parentNode.className += ' has-jax';
			}
	});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async>
</script>

<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>ç»ˆäºåšå®Œç¬¬å…­ç« äº†ï¼ï¼  é©¬ä¸Šåšå®Œä¹ é¢˜å°±èƒ½å­¦æ€ä¹ˆæš´åŠ›äº†ï¼ï¼ï¼ å¿«ä¹ï¼ </p>
<p>æ•°æ®ç»“æ„è¿™é‡Œæ²¡æœ‰æ¶‰åŠçº¿æ®µæ ‘ï¼Œ æ ‘çŠ¶æ•°ç»„ä¹‹ç±»çš„ç»“æ„ï¼Œ ä½†å­¦å®Œè¿™ä¸€ç« ä¹Ÿèƒ½é—²æ—¶çœ‹çœ‹ï¼Œ å­¦ä¸€å­¦å°±è¡Œã€‚ åŸºç¡€å·®ä¸å¤šç¨³å›ºï¼Œ åªå·®ä¹ é¢˜åŠ æ·±ç¨³å›ºä¸‹äº†ğŸ‘½ã€‚</p>
<a id="more"></a>

<h1 id="Concurrency-Simulator"><a href="#Concurrency-Simulator" class="headerlink" title="Concurrency Simulator"></a>Concurrency Simulator</h1><p><a href="https://vjudge.net/problem/UVA-210" target="_blank" rel="noopener">UVA - 210</a></p>
<p>é¢˜æ„:  è®©ä½ æ¨¡æ‹Ÿçº¿ç¨‹å¹¶è¡Œ,  åªåŒ…å«èµ‹å€¼è¯­å¥ï¼Œè¾“å‡ºè¯­å¥ï¼Œlock, unlockï¼Œ å’Œend, å˜é‡åˆå§‹å€¼ä¸ºé›¶ï¼Œç»™ä½ äº”ç§è¯­å¥çš„è¿è¡Œéœ€è¦æ—¶é—´å’Œæ¯ä¸ªç¨‹åºçš„é…é¢ï¼Œå’Œnä¸ªç¨‹åº</p>
<p>é¢˜è§£: ç›´æ¥æ¨¡æ‹Ÿï¼Œåªæœ‰ä¸€ä¸ªcpuï¼Œ å…ˆè¯»å…¥ç¨‹åºï¼Œç”¨é˜Ÿåˆ—æ¨¡æ‹Ÿå°±ç»ªé˜Ÿåˆ—ï¼ŒåŒç«¯é˜Ÿåˆ—æ¨¡æ‹Ÿå µå¡é˜Ÿåˆ—ï¼Œ æ³¨æ„æ ·åˆ—æœ‰è¯¯ï¼Œå¾—æœ‰ä¸ªæ ·åˆ—æ•°ï¼Œï¼Œï¼Œuvaé¢˜é¢åˆæ²¡æœ‰ï¼Œï¼Œè¢«waåˆ°æ€€ç–‘äººç”Ÿï¼Œï¼Œï¼Œçœ‹äº†udebugæ‰å‘ç°ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 210.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ02æ—¥ æ˜ŸæœŸäº” 09æ—¶53åˆ†31ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, pm;</span><br><span class="line"><span class="keyword">int</span> Cost[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;var;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Ask</span>&#123;</span></span><br><span class="line">	<span class="keyword">char</span> aim;</span><br><span class="line">	<span class="keyword">int</span> val;</span><br><span class="line">	<span class="keyword">int</span> mod;</span><br><span class="line">	<span class="keyword">int</span> id;</span><br><span class="line">	Ask(<span class="keyword">char</span> a, <span class="keyword">int</span> v, <span class="keyword">int</span> m, <span class="keyword">int</span> i) : aim(a), val(v), mod(m), id(i + <span class="number">1</span>) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(mod == <span class="number">0</span>)</span><br><span class="line">			var[aim] = val;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(mod == <span class="number">1</span>)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d: %d\n"</span>, id, var[aim]);</span><br><span class="line">		<span class="keyword">return</span> mod;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span>&lt;Ask&gt;Program[<span class="number">100000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">readPro</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> s[<span class="number">1000000</span>];</span><br><span class="line">	<span class="keyword">while</span>(fgets(s, <span class="keyword">sizeof</span>(s), <span class="built_in">stdin</span>), !(<span class="built_in">strchr</span>(s, <span class="string">'='</span>) == <span class="literal">nullptr</span> &amp;&amp; s[<span class="number">0</span>] == <span class="string">'e'</span>))&#123;</span><br><span class="line">		<span class="keyword">char</span> aim;</span><br><span class="line">		<span class="keyword">int</span> val;</span><br><span class="line">		<span class="keyword">int</span> mod;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">strchr</span>(s, <span class="string">'='</span>) != <span class="literal">nullptr</span>)</span><br><span class="line">			mod = <span class="number">0</span>, <span class="built_in">sscanf</span>(s, <span class="string">"%c = %d"</span>, &amp;aim, &amp;val);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'p'</span>)mod = <span class="number">1</span>, <span class="built_in">sscanf</span>(s + <span class="number">6</span>, <span class="string">"%c"</span>, &amp;aim);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'l'</span>)mod = <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">else</span> mod = <span class="number">3</span>;</span><br><span class="line">		Program[id].push(Ask(aim, val, mod, id));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;ready;</span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;block;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		<span class="keyword">if</span>(!Program[i].empty())ready.emplace_back(i);</span><br><span class="line">	<span class="keyword">bool</span> bk = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">while</span>(!ready.empty())&#123;</span><br><span class="line">		<span class="keyword">int</span> now = ready.front();</span><br><span class="line">		<span class="keyword">int</span> rt = pm;</span><br><span class="line">		ready.pop_front();</span><br><span class="line">		<span class="keyword">bool</span> can = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">while</span>(can &amp;&amp; rt &gt; <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> mod = Program[now].front().run();</span><br><span class="line">			<span class="keyword">if</span>(mod == <span class="number">2</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(bk)&#123;</span><br><span class="line">					can = <span class="literal">false</span>, block.push(now);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> bk = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(mod == <span class="number">3</span>)&#123;</span><br><span class="line">				bk = <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">if</span>(!block.empty())&#123;</span><br><span class="line">					ready.emplace_front(block.front());</span><br><span class="line">					block.pop();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			rt -= Cost[mod];</span><br><span class="line">			Program[now].pop();</span><br><span class="line">			<span class="keyword">if</span>(Program[now].empty())can = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(can)ready.emplace_back(now);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> blank = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">		<span class="keyword">if</span>(blank)<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">		<span class="keyword">else</span> blank = <span class="literal">true</span>;</span><br><span class="line">		var.clear();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, t; i &lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</span><br><span class="line">			Cost[i] = t;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;pm);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			readPro(i);</span><br><span class="line">		run();</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Rails"><a href="#Rails" class="headerlink" title="Rails"></a>Rails</h1><p><a href="https://vjudge.net/problem/UVA-514" target="_blank" rel="noopener">UVA - 514</a></p>
<p>é¢˜æ„ï¼šè®©ä½ æ¨¡æ‹Ÿç«è½¦è¿›ç«™å‡ºç«™ï¼ŒæŒ‰1ï½nçš„é¡ºåºè¿›ç«™ï¼Œé—®ä½ èƒ½å¦ä»¥ç»™å®šé¡ºåºå‡ºç«™</p>
<p>é¢˜è§£ï¼šåˆ©ç”¨æ ˆè¿›è¡Œæ¨¡æ‹Ÿï¼Œçœ‹èƒ½å¦è¾¾æˆç»™å®šé¡ºåºï¼Œåˆ˜å¤§çˆ·çš„ä»£ç æ²¡èƒ½å¤„ç†uvaä¸Šçš„æ•°æ®(ä¼°è®¡æ˜¯çœ‹ç€å¤ªç®€å•äº†éšæ‰‹å†™çš„ï¼Œæ²¡æƒ³åˆ°uvaè¾“å…¥è¿™ä¹ˆæ²™é›•2333)ï¼Œ  æœ€åçš„å‘ç‚¹è‡ªç„¶æ˜¯uvaçš„æ—¥å¸¸ â€”-  ç»“å°¾ä¹Ÿå¾—ç”¨ç©ºè¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 514.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ02æ—¥ æ˜ŸæœŸäº” 14æ—¶42åˆ†45ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> car[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	rep(i, n)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, car + i);</span><br><span class="line">		<span class="keyword">if</span>(car[<span class="number">0</span>] == <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">bool</span> blank = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n)&#123;</span><br><span class="line">		assert(n &lt;= <span class="number">1000</span>);</span><br><span class="line">		<span class="keyword">while</span>(read(n))&#123;</span><br><span class="line">			<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;s;</span><br><span class="line">			<span class="keyword">int</span> A = <span class="number">1</span>, B = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">bool</span> can = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">while</span>(can &amp;&amp; B &lt; n)&#123;</span><br><span class="line">				<span class="keyword">if</span>(A == car[B])A++, B++;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(!s.empty() &amp;&amp; s.top() == car[B])B++, s.pop();</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(A &lt;= n)s.push(A++);</span><br><span class="line">				<span class="keyword">else</span> can = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">puts</span>(can ? <span class="string">"Yes"</span> : <span class="string">"No"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">                <span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Matrix-Chain-Multiplication"><a href="#Matrix-Chain-Multiplication" class="headerlink" title="Matrix Chain Multiplication"></a>Matrix Chain Multiplication</h1><p><a href="https://vjudge.net/problem/UVA-442" target="_blank" rel="noopener">UVA - 442</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€å †çŸ©é˜µï¼Œ é—®ä½ èƒ½å¦å®Œæˆä¸‹é¢çš„è¡¨è¾¾å¼ï¼Œèƒ½çš„è¯è¾“å‡ºæ‰€éœ€çš„ä¹˜æ³•æ¬¡æ•°ï¼Œå¦åˆ™è¾“å‡ºerror</p>
<p>é¢˜è§£ï¼šçŸ©é˜µèƒ½è¿›è¡Œä¹˜æ³•çš„æ¡ä»¶æ˜¯AçŸ©é˜µçš„åˆ—æ•°å¿…é¡»ç­‰äºBçŸ©é˜µçš„è¡Œæ•°ï¼Œå¦åˆ™è¾“å‡ºerrorå³å¯ï¼Œ èƒ½ä¹˜æ—¶å¢åŠ çš„ä¹˜æ³•æ•°é‡æ˜¯AçŸ©é˜µçš„è¡Œæ•°ä¹˜åˆ—æ•°ä¹˜BçŸ©é˜µçš„åˆ—æ•°ï¼Œç”¨æ ˆè¿›è¡Œæ‹¬å·åŒ¹é…è¿›è¡Œè¡¨è¾¾å¼è§£æï¼Œæ¨¡æ‹Ÿå³å¯</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 442.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ02æ—¥ æ˜ŸæœŸäº” 15æ—¶35åˆ†28ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> l, k;</span><br><span class="line">	Matrix(<span class="keyword">int</span> a = <span class="number">0</span>, <span class="keyword">int</span> b = <span class="number">0</span>) : l(a), k(b) &#123;&#125;</span><br><span class="line">&#125;M[<span class="number">26</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	rep(i, n)&#123;</span><br><span class="line">		<span class="built_in">string</span> s;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; M[s[<span class="number">0</span>] - <span class="string">'A'</span>].l &gt;&gt; M[s[<span class="number">0</span>] - <span class="string">'A'</span>].k;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">string</span> expr;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; expr)&#123;</span><br><span class="line">		<span class="keyword">bool</span> error = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">stack</span>&lt;Matrix&gt;st;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">auto</span> i : expr)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">isalpha</span>(i))st.emplace(M[i - <span class="string">'A'</span>]);</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="string">')'</span>)&#123;</span><br><span class="line">				<span class="keyword">auto</span> b = st.top(); st.pop();</span><br><span class="line">				<span class="keyword">auto</span> a = st.top(); st.pop();</span><br><span class="line">				<span class="keyword">if</span>(a.k != b.l)&#123;</span><br><span class="line">					error = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				ans += a.l * a.k * b.k;</span><br><span class="line">				st.emplace(a.l, b.k);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(error)<span class="built_in">cout</span> &lt;&lt; <span class="string">"error\n"</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Broken-Keyboard-a-k-a-Beiju-Text"><a href="#Broken-Keyboard-a-k-a-Beiju-Text" class="headerlink" title="Broken Keyboard (a.k.a. Beiju Text)"></a>Broken Keyboard (a.k.a. Beiju Text)</h1><p><a href="https://vjudge.net/problem/UVA-11988" target="_blank" rel="noopener">UVA - 11988</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«homeé”®å’Œendé”®ï¼ŒæŒ‰ä¸‹åå…‰æ ‡ä¼šæ¥åˆ°æœ€å‰é¢æˆ–æœ€åé¢ï¼Œè®©ä½ è§£æå‡ºåœ¨homeå’Œendå½±å“ä¸‹çš„å­—ç¬¦ä¸²</p>
<p>é¢˜è§£ï¼šæŒ‰é¢˜æ„æ¨¡æ‹Ÿå³å¯ï¼Œä½†è‹¥ç›´æ¥æ•°ç»„æ¨¡æ‹Ÿï¼Œä¼šäº§ç”Ÿç§»åŠ¨æ•´ä¸ªæ•°ç»„ç­‰å½±å“ï¼Œååˆ†è´¹æ—¶é—´ï¼Œâ€åœ¨æ•°ç»„ä¸­ç§»åŠ¨å…ƒç´ æ˜¯ååˆ†ä½æ•ˆçš„ï¼Œå¦‚æœæœ‰å¯èƒ½ï¼Œå¯ä»¥ä½¿ç”¨é“¾è¡¨â€ â€“ åˆ˜å¤§çˆ·åŸè¯ã€‚ä¸ºæ­¤æˆ‘ä»¬é‡‡ç”¨é“¾è¡¨å®ç°ï¼Œç”¨poså‚¨å­˜å…‰æ ‡ä½ç½®ï¼Œè¿›è¡Œæ¨¡æ‹Ÿ, ç”¨æ•°ç»„å®ç°é“¾è¡¨å³å¯</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 11988.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ02æ—¥ æ˜ŸæœŸäº” 18æ—¶36åˆ†18ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e5</span> + <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> s[Ma];</span><br><span class="line">	<span class="keyword">int</span> next[Ma];</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s + <span class="number">1</span>))&#123;</span><br><span class="line">		<span class="keyword">int</span> cur = <span class="number">0</span>, last = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> len = <span class="built_in">strlen</span>(s + <span class="number">1</span>);</span><br><span class="line">		next[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(s[i] == <span class="string">'['</span>)cur = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(s[i] == <span class="string">']'</span>)cur = last;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				next[i] = next[cur];</span><br><span class="line">				next[cur] = i;</span><br><span class="line">				<span class="keyword">if</span>(cur == last)last = i;</span><br><span class="line">				cur = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = next[<span class="number">0</span>]; i != <span class="number">0</span>; i = next[i])\</span><br><span class="line">			<span class="built_in">putchar</span>(s[i]);</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Boxes-in-a-Line"><a href="#Boxes-in-a-Line" class="headerlink" title="Boxes in a Line"></a>Boxes in a Line</h1><p><a href="https://vjudge.net/problem/UVA-12657" target="_blank" rel="noopener">UVA - 12657</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€å †æ ‡å·ä¸€åˆ°nçš„ç›’å­ï¼Œ åˆç»™ä½ å‡ ä¸ªæ“ä½œï¼š</p>
<ol>
<li>1 x y ï¼š æŠŠxç›’å­ç§»åŠ¨åˆ°yç›’å­å·¦è¾¹</li>
<li>2 x y ï¼š æŠŠxç›’å­ç§»åŠ¨åˆ°yç›’å­å³è¾¹</li>
<li>3 x y ï¼š æŠŠxç›’å­å’Œyç›’å­äº’æ¢</li>
<li>æŠŠæ‰€æœ‰ç›’å­ååº</li>
</ol>
<p>æœ€åé—®ä½ æ‰€æœ‰å¥‡æ•°ä½ç½®ä¸Šçš„ç›’å­åºå·å’Œæ˜¯å¤šå°‘</p>
<p>é¢˜è§£ï¼šç”¨åŒå‘é“¾è¡¨å¤„ç†ç§»åŠ¨é—®é¢˜ï¼Œç”¨æ ‡è®°å¤„ç†ååºé—®é¢˜, æ³¨æ„ç¬¬ä¸‰ç§æ“ä½œçš„ç»†èŠ‚å¤„ç†</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 12657.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ02æ—¥ æ˜ŸæœŸäº” 19æ—¶52åˆ†40ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="comment">//using namespace std;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e5</span> + <span class="number">100</span>;</span><br><span class="line"><span class="keyword">bool</span> inv;</span><br><span class="line"><span class="keyword">int</span> left[Ma], right[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Connect</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">	left[b] = a;</span><br><span class="line">	right[a] = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, m;</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m))&#123;</span><br><span class="line">		<span class="built_in">memset</span>(left, <span class="number">0</span>, <span class="keyword">sizeof</span>(left));</span><br><span class="line">		<span class="built_in">memset</span>(right, <span class="number">0</span>, <span class="keyword">sizeof</span>(right));</span><br><span class="line">		inv = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">			Connect(i, i + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">while</span>(m--)&#123;</span><br><span class="line">			<span class="keyword">int</span> aim, x, y;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;aim);</span><br><span class="line">			<span class="keyword">if</span>(aim == <span class="number">4</span>)inv = !inv;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">				<span class="keyword">if</span>(aim == <span class="number">3</span> &amp;&amp; right[y] == x)<span class="built_in">std</span>::swap(x, y);</span><br><span class="line">				<span class="keyword">if</span>(aim != <span class="number">3</span> &amp;&amp; !inv)aim = <span class="number">3</span> - aim;</span><br><span class="line">				<span class="keyword">int</span> lx = left[x], rx = right[x],</span><br><span class="line">					ly = left[y], ry = right[y];</span><br><span class="line">				<span class="keyword">if</span>(aim == <span class="number">1</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(ly == x)<span class="keyword">continue</span>;</span><br><span class="line">					Connect(lx, rx);</span><br><span class="line">					Connect(ly, x);</span><br><span class="line">					Connect(x, y);</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(aim == <span class="number">2</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(ry == x)<span class="keyword">continue</span>;</span><br><span class="line">					Connect(lx, rx);</span><br><span class="line">					Connect(y, x);</span><br><span class="line">					Connect(x, ry);</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(aim == <span class="number">3</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(rx == y)&#123;</span><br><span class="line">						Connect(lx, y);</span><br><span class="line">						Connect(x, ry);</span><br><span class="line">						Connect(y, x);</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					Connect(lx, y);</span><br><span class="line">					Connect(y, rx);</span><br><span class="line">					Connect(ly, x);</span><br><span class="line">					Connect(x, ry);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++ )&#123;</span><br><span class="line">			t = right[t];</span><br><span class="line">			<span class="keyword">if</span>(i &amp; <span class="number">1</span>)ans += t;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!inv &amp;&amp; !(n &amp; <span class="number">1</span>))ans = (<span class="keyword">long</span> <span class="keyword">long</span>)n * (n + <span class="number">1</span>) / <span class="number">2</span> - ans;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %lld\n"</span>, ++k, ans);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Dropping-Balls"><a href="#Dropping-Balls" class="headerlink" title="Dropping Balls"></a>Dropping Balls</h1><p><a href="https://vjudge.net/problem/UVA-679" target="_blank" rel="noopener">UVA - 679</a></p>
<p>é¢˜æ„ï¼šåœ¨äºŒå‰æ ‘ä¸Šæ¨¡æ‹Ÿå°çƒä¸‹è½ï¼Œå°çƒåˆ°è¾¾ä¸€ä¸ªèŠ‚ç‚¹å¦‚æœå½“å‰èŠ‚ç‚¹å¼€å…³ä¸ºå…³åˆ™å¾€å·¦èµ°ï¼Œå¦åˆ™å¾€å³èµ°ï¼Œç»™ä½ då±‚äºŒå‰æ ‘ï¼Œå’ŒIä¸ªçƒï¼Œé—®ä½ æœ€åä¸€ä¸ªçƒåœåœ¨äº†å“ªé‡Œ</p>
<p>é¢˜è§£ï¼šå®¹æ˜“æƒ³åˆ°ç›´æ¥æ¨¡æ‹Ÿï¼Œä½† 1 &lt;=  I  &lt;= 524288ï¼Œ æ˜¾ç„¶ä¼štæ‰.  ä¸‹é¢æƒ³åˆ°å¦‚æœå°çƒæ˜¯å¥‡æ•°ä¸ªè½åˆ°èŠ‚ç‚¹ä¸Šï¼Œé‚£ä¹ˆå®ƒåº”è¯¥å¾€å·¦èµ°ï¼Œå¦åˆ™å¾€å³èµ°ï¼Œæ ¹æ®è¿™ä¸ªæ¨¡æ‹Ÿï¼Œé¿å…äº†Içš„å½±å“ï¼Œåªéœ€æ¨¡æ‹Ÿnå±‚ï¼Œå¤æ‚åº¦åˆç†</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 679.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ03æ—¥ æ˜ŸæœŸå…­ 09æ—¶35åˆ†16ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="keyword">int</span> n, m, k = <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(m &amp; <span class="number">1</span>)k = <span class="number">2</span> * k, m = (m + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">else</span> k = <span class="number">2</span> * k + <span class="number">1</span>, m = m / <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, k);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Trees-on-the-level"><a href="#Trees-on-the-level" class="headerlink" title="Trees on the level"></a>Trees on the level</h1><p><a href="https://vjudge.net/problem/UVA-122" target="_blank" rel="noopener">UVA - 122</a></p>
<p>é¢˜æ„ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè®©ä½ æŒ‰å±‚æ¬¡éå†è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹çš„å€¼</p>
<p>é¢˜è§£ï¼šå®¹æ˜“æƒ³åˆ°æ•°ç»„æ— æ³•å­˜ä¸‹ï¼Œåˆ™å»ºç«‹é“¾æ ‘ï¼Œè¯»å…¥å»ºç«‹æ ‘åç”¨bfsè¿›è¡Œå±‚æ¬¡éå†å³å¯ï¼Œå¯ç”¨å†…å­˜æ± æˆ–æ•°ç»„å®ç°äºŒå‰æ ‘é¿å…å†…å­˜æ³„æ¼é—®é¢˜</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 122å†…å­˜æ± ç‰ˆ.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 08æ—¶50åˆ†10ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxVal = <span class="number">10000</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	Node *left, *right;</span><br><span class="line">	<span class="keyword">int</span> date;</span><br><span class="line">	<span class="keyword">bool</span> Had;</span><br><span class="line">	Node() : left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>), Had(<span class="literal">false</span>) &#123;&#125;;</span><br><span class="line">&#125;node[maxVal];</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span>&lt;Node*&gt;freenodes;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxVal; i++)</span><br><span class="line">		freenodes.emplace(&amp;node[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *root;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> fail;</span><br><span class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Node* u = freenodes.front(); </span><br><span class="line">	freenodes.pop();</span><br><span class="line">	u-&gt;left = u-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line">	u-&gt;Had = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destory</span><span class="params">(Node *u)</span></span>&#123;</span><br><span class="line">	freenodes.emplace(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addNode</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">char</span> *head)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="built_in">strlen</span>(head);</span><br><span class="line">	Node* now = root;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">if</span>(head[i] == <span class="string">'L'</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(now-&gt;left == <span class="literal">nullptr</span>)now-&gt;left = newNode();</span><br><span class="line">			now = now-&gt;left;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(head[i] == <span class="string">'R'</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(now-&gt;right == <span class="literal">nullptr</span>)now-&gt;right = newNode();</span><br><span class="line">			now = now-&gt;right;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">if</span>(now-&gt;Had)fail = <span class="literal">true</span>;</span><br><span class="line">	now-&gt;date = v;</span><br><span class="line">	now-&gt;Had = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;Node*&gt;q;</span><br><span class="line">	ans.clear();</span><br><span class="line">	q.emplace(root);</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		Node* now = q.front();</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">if</span>(!now-&gt;Had)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		ans.emplace_back(now-&gt;date);</span><br><span class="line">		<span class="keyword">if</span>(now-&gt;left)q.emplace(now-&gt;left);</span><br><span class="line">		<span class="keyword">if</span>(now-&gt;right)q.emplace(now-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">read_input</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> s[maxVal];</span><br><span class="line">	fail = <span class="literal">false</span>;</span><br><span class="line">	root = newNode();</span><br><span class="line">	<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s) != <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(!<span class="built_in">strcmp</span>(s, <span class="string">"()"</span>))<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">if</span>(fail)<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">int</span> t;</span><br><span class="line">		<span class="built_in">sscanf</span>(s + <span class="number">1</span>, <span class="string">"%d"</span>, &amp;t);</span><br><span class="line">		addNode(t, <span class="built_in">strchr</span>(s, <span class="string">','</span>) + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clearTree</span><span class="params">(Node* u)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(u == <span class="literal">nullptr</span>)<span class="keyword">return</span>;</span><br><span class="line">	clearTree(u-&gt;left);</span><br><span class="line">	clearTree(u-&gt;right);</span><br><span class="line">	destory(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">outPut</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = ans.size();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d%c"</span>, ans[i], <span class="string">" \n"</span>[i == len - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	init();</span><br><span class="line">	<span class="keyword">while</span>(read_input())&#123;</span><br><span class="line">		<span class="keyword">if</span>(fail || !bfs())<span class="built_in">puts</span>(<span class="string">"not complete"</span>);</span><br><span class="line">		<span class="keyword">else</span> outPut();</span><br><span class="line">		clearTree(root);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯æ•°ç»„å®ç°</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 122æ•°ç»„å®ç°.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 08æ—¶50åˆ†10ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxVal = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> date[maxVal];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Left[maxVal], Right[maxVal];</span><br><span class="line"><span class="keyword">bool</span> Had[maxVal];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> root = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> fail;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newTree</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Left[root] = Right[root] = <span class="number">0</span>;</span><br><span class="line">	Had[root] = <span class="literal">false</span>;</span><br><span class="line">	cnt = root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">newNode</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> u = ++cnt;</span><br><span class="line">	Left[u] = Right[u] = <span class="number">0</span>;</span><br><span class="line">	Had[u] = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addNode</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">char</span> *head)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="built_in">strlen</span>(head);</span><br><span class="line">	<span class="keyword">int</span> now = root;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">if</span>(head[i] == <span class="string">'L'</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!Left[now])Left[now] = newNode();</span><br><span class="line">			now = Left[now];</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(head[i] == <span class="string">'R'</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!Right[now])Right[now] = newNode();</span><br><span class="line">			now = Right[now];</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">if</span>(Had[now])fail = <span class="literal">true</span>;</span><br><span class="line">	date[now] = v;</span><br><span class="line">	Had[now] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line">	ans.clear();</span><br><span class="line">	q.emplace(root);</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		<span class="keyword">int</span> now = q.front();</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">if</span>(!Had[now])<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		ans.emplace_back(date[now]);</span><br><span class="line">		<span class="keyword">if</span>(Left[now])q.emplace(Left[now]);</span><br><span class="line">		<span class="keyword">if</span>(Right[now])q.emplace(Right[now]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">read_input</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> s[maxVal];</span><br><span class="line">	fail = <span class="literal">false</span>;</span><br><span class="line">	newTree();</span><br><span class="line">	<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s) != <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(!<span class="built_in">strcmp</span>(s, <span class="string">"()"</span>))<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">if</span>(fail)<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">int</span> t;</span><br><span class="line">		<span class="built_in">sscanf</span>(s + <span class="number">1</span>, <span class="string">"%d"</span>, &amp;t);</span><br><span class="line">		addNode(t, <span class="built_in">strchr</span>(s, <span class="string">','</span>) + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clearTree</span><span class="params">(<span class="keyword">int</span>* u)</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">outPut</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = ans.size();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d%c"</span>, ans[i], <span class="string">" \n"</span>[i == len - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(read_input())&#123;</span><br><span class="line">		<span class="keyword">if</span>(fail || !bfs())<span class="built_in">puts</span>(<span class="string">"not complete"</span>);</span><br><span class="line">		<span class="keyword">else</span> outPut();</span><br><span class="line">		<span class="comment">//clearTree(root);</span></span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h1><p><a href="https://vjudge.net/problem/UVA-548" target="_blank" rel="noopener">UVA - 548</a></p>
<p>é¢˜æ„ï¼šç»™ä¸€é¢—å¸¦æƒäºŒå‰æ ‘çš„ä¸­åºéå†å’Œååºéå†ï¼Œé—®ä½ åˆ°æ ¹æƒå’Œæœ€å°çš„å¶å­æ˜¯å“ªä¸ªï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œåˆ™å¶å­æœ¬èº«æƒå€¼æ›´å°</p>
<p>é¢˜è§£ï¼šæŒ‰ä¸­åºéå†å’Œååºéå†å»ºæ ‘ï¼Œå¹¶åœ¨è¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°ç­”æ¡ˆ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 548.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 12æ—¶29åˆ†20ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">10100</span>;</span><br><span class="line"><span class="keyword">int</span> in_order[Ma], post_order[Ma], lch[Ma], rch[Ma];</span><br><span class="line"><span class="keyword">int</span> n, best, best_sum;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">read_list</span><span class="params">(<span class="keyword">int</span> *a)</span></span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tem;</span><br><span class="line">	<span class="keyword">if</span>(!getline(<span class="built_in">cin</span>, tem))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="function"><span class="built_in">istringstream</span> <span class="title">it</span><span class="params">(tem)</span></span>;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	n = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(it &gt;&gt; t)a[n++] = t;</span><br><span class="line">	<span class="keyword">return</span> n &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> L1, <span class="keyword">int</span> R1, <span class="keyword">int</span> L2, <span class="keyword">int</span> R2, <span class="keyword">int</span> sum)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(L1 &gt; R1)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> root = post_order[R2];</span><br><span class="line">	<span class="keyword">int</span> mid = L1;</span><br><span class="line">	<span class="keyword">while</span>(in_order[mid] != root)mid++;</span><br><span class="line">	lch[root] = build(L1, mid - <span class="number">1</span>, L2, L2 + mid - L1 - <span class="number">1</span>, sum + root);</span><br><span class="line">	rch[root] = build(mid + <span class="number">1</span>, R1, L2 + mid - L1, R2 - <span class="number">1</span>, sum + root);</span><br><span class="line">	<span class="keyword">if</span>(lch[root] == <span class="number">0</span> &amp;&amp; rch[root] == <span class="number">0</span></span><br><span class="line">	&amp;&amp; (sum + root &lt; best_sum || (sum + root == best_sum &amp;&amp; root &lt; best)))</span><br><span class="line">		best = root, best_sum = sum + root;</span><br><span class="line">	<span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(read_list(in_order))&#123;</span><br><span class="line">		read_list(post_order);</span><br><span class="line">		best_sum = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">		build(<span class="number">0</span>, n - <span class="number">1</span>, <span class="number">0</span>, n - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; best &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Not-so-Mobile"><a href="#Not-so-Mobile" class="headerlink" title="Not so Mobile"></a>Not so Mobile</h1><p><a href="https://vjudge.net/problem/UVA-839" target="_blank" rel="noopener">UVA - 839</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªå¤©å¹³ï¼Œé—®ä½ æ˜¯å¦å¹³è¡¡</p>
<p>é¢˜è§£ï¼šæŒ‰è¾“å…¥å»ºç«‹å¤©å¹³ï¼Œåˆ¤æ–­æ˜¯å¦å¹³è¡¡</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 839.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 14æ—¶14åˆ†36ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Build</span><span class="params">(<span class="keyword">int</span>&amp; W)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> w1, d1, w2, d2;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;w1, &amp;d1, &amp;w2, &amp;d2);</span><br><span class="line">	<span class="keyword">bool</span> b1 = <span class="literal">true</span>, b2 = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">if</span>(w1 == <span class="number">0</span>)b1 = Build(w1);</span><br><span class="line">	<span class="keyword">if</span>(w2 == <span class="number">0</span>)b2 = Build(w2);</span><br><span class="line">	W = w1 + w2;</span><br><span class="line">	<span class="keyword">return</span> b1 &amp;&amp; b2 &amp;&amp; w1 * d1 == w2 * d2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="keyword">int</span> W;</span><br><span class="line">		<span class="keyword">if</span>(Build(W))<span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">		<span class="keyword">if</span>(T)<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="The-Falling-Leaves"><a href="#The-Falling-Leaves" class="headerlink" title="The Falling Leaves"></a>The Falling Leaves</h1><p><a href="https://vjudge.net/problem/UVA-699" target="_blank" rel="noopener">UVA - 699</a></p>
<p>é¢˜æ„: æŒ‰å…ˆåºéå†è¾“å…¥ä¸€é¢—æ ‘ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„åœ°æ–¹ä¸º-1, é—®ä½ è®©è¿™äº›èŠ‚ç‚¹å…¨è½åœ¨åŒä¸€å±‚ï¼Œ è½åœ¨åŒä¸€ç‚¹æ•°å€¼ç›¸åŠ ï¼Œé—®è¿™ä¸€å±‚çš„æ•°å€¼æƒ…å†µ</p>
<p>é¢˜è§£ï¼šæŒ‰è¾“å…¥å»ºæ ‘ï¼Œæ¨¡æ‹ŸèŠ‚ç‚¹ä½ç½®</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 699.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 15æ—¶52åˆ†29ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = (<span class="number">1</span> &lt;&lt; <span class="number">8</span>);</span><br><span class="line"><span class="keyword">int</span> sum[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Build</span><span class="params">(<span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> v;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; v;</span><br><span class="line">	<span class="keyword">if</span>(v == <span class="number">-1</span>)<span class="keyword">return</span>;</span><br><span class="line">	sum[pos] += v;</span><br><span class="line">	Build(pos - <span class="number">1</span>);</span><br><span class="line">	Build(pos + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(sum, <span class="number">0</span>, <span class="keyword">sizeof</span>(sum));</span><br><span class="line">	<span class="keyword">int</span> v;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; v;</span><br><span class="line">	<span class="keyword">if</span>(v == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">int</span> mid = Ma / <span class="number">2</span>;</span><br><span class="line">	sum[mid] += v;</span><br><span class="line">	Build(mid - <span class="number">1</span>), Build(mid + <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> test = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(init())&#123;</span><br><span class="line">		<span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(sum[p] == <span class="number">0</span>)p++;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Case "</span> &lt;&lt; ++test &lt;&lt; <span class="string">":\n"</span> &lt;&lt; sum[p];</span><br><span class="line">		<span class="keyword">while</span>(sum[++p])<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; sum[p];</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Quadtrees"><a href="#Quadtrees" class="headerlink" title="Quadtrees"></a>Quadtrees</h1><p><a href="https://vjudge.net/problem/UVA-297" target="_blank" rel="noopener">UVA - 297</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸¤æ£µ32*32å›¾åƒçš„å››åˆ†æ ‘çš„å…ˆåºéå†ï¼Œè®©ä½ åˆå¹¶ä¸¤æ£µå››åˆ†æ ‘ï¼Œé—®ä½ æœ€åä¼šæœ‰å¤šå°‘ä¸ªé»‘è‰²å—</p>
<p>é¢˜è§£ï¼šé»‘è‰²ä¸ºé»‘è‰²ï¼Œç°è‰²æ˜¯èŠ‚ç‚¹åæœ‰é»‘è‰²ï¼Œç™½è‰²ä¸ºå…¨ç™½ï¼Œå› æ­¤ï¼Œåªæœ‰ç°è‰²èŠ‚ç‚¹éœ€è¦é€’å½’å¾€åï¼Œæ ¹æ®è¿™ä¸ªï¼Œå¯åªæŒ‰å…ˆåºéå†å°†ç”»é¢å¡«å¥½å³å¯</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 297.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 16æ—¶50åˆ†24ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1024</span> + <span class="number">1000</span>, len = <span class="number">32</span>;</span><br><span class="line"><span class="keyword">bool</span> buf[len][len];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">char</span> s[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Draw</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* s, <span class="keyword">int</span>&amp; pos, <span class="keyword">int</span> c, <span class="keyword">int</span> r, <span class="keyword">int</span> Len)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> aim = s[pos++];</span><br><span class="line">	<span class="keyword">if</span>(aim == <span class="string">'p'</span>)&#123;</span><br><span class="line">		Draw(s, pos, c, r + Len / <span class="number">2</span>, Len / <span class="number">2</span>);</span><br><span class="line">		Draw(s, pos, c, r, Len / <span class="number">2</span>);</span><br><span class="line">		Draw(s, pos, c + Len / <span class="number">2</span>, r, Len / <span class="number">2</span>);</span><br><span class="line">		Draw(s, pos, c + Len / <span class="number">2</span>, r + Len / <span class="number">2</span>, Len / <span class="number">2</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(aim == <span class="string">'f'</span>)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = c; i &lt; c + Len; i++)</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = r; j &lt; r + Len; j++)</span><br><span class="line">				<span class="keyword">if</span>(!buf[i][j])cnt++, buf[i][j] = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">		cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s);</span><br><span class="line">			<span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">			Draw(s, p, <span class="number">0</span>, <span class="number">0</span> , len);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"There are %d black pixels.\n"</span>, cnt);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Oil-Deposits"><a href="#Oil-Deposits" class="headerlink" title="Oil Deposits"></a>Oil Deposits</h1><p><a href="https://vjudge.net/problem/UVA-572" target="_blank" rel="noopener">UVA - 572</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€ç‰‡æ²¹ç”°åœ°ï¼Œé—®ä½ æœ‰å‡ å—æ²¹ç”°</p>
<p>é¢˜è§£ï¼šç›´æ¥æœ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 572.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 18æ—¶44åˆ†13ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e2</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> pic[Ma][Ma];</span><br><span class="line"><span class="keyword">bool</span> vis[Ma][Ma];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(r &lt; <span class="number">0</span> || r &gt;= n || c &lt; <span class="number">0</span> || c &gt;= m)<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">if</span>(vis[r][c] || pic[r][c] != <span class="string">'@'</span>)<span class="keyword">return</span>;</span><br><span class="line">	vis[r][c] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">-1</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">-1</span>; j &lt; <span class="number">2</span>; j++)</span><br><span class="line">			<span class="keyword">if</span>(i != <span class="number">0</span> || j != <span class="number">0</span>)dfs(r + i, c + j);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m) &amp;&amp; n)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i&lt; n; i++)</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, pic[i]);</span><br><span class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">				<span class="keyword">if</span>(pic[i][j] == <span class="string">'@'</span> &amp;&amp; !vis[i][j])cnt++, dfs(i, j);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, cnt);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Ancient-Messages"><a href="#Ancient-Messages" class="headerlink" title="Ancient Messages"></a>Ancient Messages</h1><p><a href="https://vjudge.net/problem/UVA-1103" target="_blank" rel="noopener">UVA - 1103</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€å‰¯åå…­è¿›åˆ¶ç»„æˆçš„å›¾ï¼Œé—®ä½ é‚£æœ‰å“ªäº›å¤ä»£ç¬¦å·</p>
<p>é¢˜è§£ï¼šæ ¹æ®å¤ä»£ç¬¦å·çš„å†…éƒ¨ç™½è‰²å—ä¸ªæ•°ï¼Œå¯¹ç»™å‡ºå›¾è¿›è¡Œéå†å³å¯ã€‚å…ˆå°†å›¾è½¬åŒ–ä¸ºäºŒè¿›åˆ¶</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1103.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ05æ—¥ æ˜ŸæœŸä¸€ 20æ—¶10åˆ†59ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">2e2</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> buf[Ma][Ma];</span><br><span class="line"><span class="keyword">bool</span> Graph[Ma][Ma];</span><br><span class="line"><span class="keyword">bool</span> vis[Ma][Ma];</span><br><span class="line"><span class="keyword">char</span> Ans[] = &#123;<span class="string">'W'</span>, <span class="string">'A'</span>, <span class="string">'K'</span>, <span class="string">'J'</span>, <span class="string">'S'</span>, <span class="string">'D'</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> rmv[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;, </span><br><span class="line">	cmv[] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> cnt, n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; n &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">bool</span> mod)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(!judge(r, c))<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">if</span>(!Graph[r][c] &amp;&amp; !vis[r][c] &amp;&amp; mod)&#123;</span><br><span class="line">		dfs(r, c, <span class="literal">false</span>);</span><br><span class="line">		cnt++;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(vis[r][c])<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">if</span>(Graph[r][c] != mod)<span class="keyword">return</span>;</span><br><span class="line">	vis[r][c] = <span class="literal">true</span>;</span><br><span class="line">	rep(i, <span class="number">4</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> x= r + rmv[i], y = c + cmv[i];</span><br><span class="line">		<span class="keyword">if</span>(vis[x][y])<span class="keyword">continue</span>;</span><br><span class="line">		dfs(x, y, mod);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> test = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m) &amp;&amp; n)&#123;</span><br><span class="line">		Mem(Graph);</span><br><span class="line">		Mem(vis);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)<span class="built_in">scanf</span>(<span class="string">"%s"</span>, buf[i]);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">				<span class="keyword">if</span>(<span class="built_in">isdigit</span>(buf[i][j]))&#123;</span><br><span class="line">					rep(k, <span class="number">4</span>)<span class="keyword">if</span>((<span class="number">1</span> &lt;&lt; (<span class="number">3</span> - k)) &amp; (buf[i][j] - <span class="string">'0'</span>))Graph[i][j * <span class="number">4</span> + k] = <span class="literal">true</span>;</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">islower</span>(buf[i][j]))&#123;</span><br><span class="line">					rep(k, <span class="number">4</span>)<span class="keyword">if</span>((<span class="number">1</span> &lt;&lt; (<span class="number">3</span> - k)) &amp; (buf[i][j] - <span class="string">'a'</span> + <span class="number">10</span>))Graph[i][j * <span class="number">4</span> + k] = <span class="literal">true</span>;</span><br><span class="line">				&#125;<span class="keyword">else</span> assert(<span class="literal">false</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		m = <span class="number">4</span> * m;</span><br><span class="line">		rep(i, n)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!Graph[i][<span class="number">0</span>] &amp;&amp; !vis[i][<span class="number">0</span>])dfs(i, <span class="number">0</span>, <span class="literal">false</span>);</span><br><span class="line">			<span class="keyword">if</span>(!Graph[i][m - <span class="number">1</span>] &amp;&amp; !vis[i][m - <span class="number">1</span>])dfs(i, m - <span class="number">1</span>, <span class="literal">false</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		rep(i, m)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!Graph[<span class="number">0</span>][i] &amp;&amp; !vis[<span class="number">0</span>][i])dfs(<span class="number">0</span>, i, <span class="literal">false</span>);</span><br><span class="line">			<span class="keyword">if</span>(!Graph[n - <span class="number">1</span>][i] &amp;&amp; !vis[n - <span class="number">1</span>][i])dfs(n - <span class="number">1</span>, i, <span class="literal">false</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: "</span>, ++test);</span><br><span class="line">		priority_queue&lt;<span class="keyword">char</span>, <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;, greater&lt;<span class="keyword">char</span>&gt; &gt;pq;</span><br><span class="line">		rep(i, n)rep(j, m)&#123;</span><br><span class="line">			<span class="keyword">if</span>(Graph[i][j] &amp;&amp; !vis[i][j])&#123;</span><br><span class="line">				cnt = <span class="number">0</span>;</span><br><span class="line">				dfs(i, j, <span class="literal">true</span>);</span><br><span class="line">				pq.emplace(Ans[cnt]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(!pq.empty())&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%c"</span>, pq.top());</span><br><span class="line">			pq.pop();</span><br><span class="line">			<span class="keyword">if</span>(pq.empty())<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Abbottâ€™s-Revenge"><a href="#Abbottâ€™s-Revenge" class="headerlink" title="Abbottâ€™s Revenge"></a>Abbottâ€™s Revenge</h1><p><a href="https://vjudge.net/problem/UVA-816" target="_blank" rel="noopener">UVA - 816</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªè¿·å®«ï¼Œ è¾“å…¥èµ·ç‚¹ï¼Œç¦»å¼€æ—¶çš„æœå‘ï¼Œ ç»ˆç‚¹ï¼Œè®©ä½ æ±‚ä¸€æ¡æœ€çŸ­è·¯ï¼Œè¾“å…¥ä¸ºèŠ‚ç‚¹è·Ÿç€è·¯æ ‡ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºè¿›å…¥æ–¹å‘ï¼Œåé¢ä¸ºå¯å‡ºå»æ–¹å‘</p>
<p>é¢˜è§£ï¼šå¯¹äººè¿›è¡Œæ¨¡æ‹Ÿï¼Œbfsæœç´¢ï¼Œå¹¶è®°å½•è·¯å¾„</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 816.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ06æ—¥ æ˜ŸæœŸäºŒ 10æ—¶55åˆ†58ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Dr[] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">	Dc[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* dirs = <span class="string">"NESW"</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* turns = <span class="string">"FLR"</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dir_id</span><span class="params">(<span class="keyword">char</span> aim)</span></span>&#123;<span class="keyword">return</span> <span class="built_in">strchr</span>(dirs, aim) - dirs;&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">turn_id</span><span class="params">(<span class="keyword">char</span> aim)</span></span>&#123;<span class="keyword">return</span> <span class="built_in">strchr</span>(turns, aim) - turns;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> dir;</span><br><span class="line">	<span class="keyword">int</span> r, c;</span><br><span class="line">	Node(<span class="keyword">int</span> dd = <span class="number">0</span>, <span class="keyword">int</span> rr = <span class="number">0</span>, <span class="keyword">int</span> cc = <span class="number">0</span>) : dir(dd), r(rr), c(cc)&#123;&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> == (<span class="keyword">const</span> Node b)&#123;<span class="keyword">return</span> r == b.r &amp;&amp; c == b.c;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Node Begin, End;</span><br><span class="line"><span class="keyword">bool</span> has_edge[<span class="number">10</span>][<span class="number">10</span>][<span class="number">4</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="function">Node <span class="title">walk</span><span class="params">(Node u, <span class="keyword">int</span> turn)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> dir = u.dir;</span><br><span class="line">	<span class="keyword">if</span>(turn == <span class="number">1</span>)dir = (dir + <span class="number">3</span>) % <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">if</span>(turn == <span class="number">2</span>)dir = (dir + <span class="number">1</span>) % <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">return</span> Node(dir, u.r + Dr[dir], u.c + Dc[dir]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">readBase</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> tem;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; Begin.r &gt;&gt; Begin.c &gt;&gt; tem;</span><br><span class="line">	<span class="keyword">int</span> dir = dir_id(tem);</span><br><span class="line">	Begin.r += Dr[dir];</span><br><span class="line">	Begin.c += Dc[dir];</span><br><span class="line">	Begin.dir = dir;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; End.r &gt;&gt; End.c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">readMap</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> r, c;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; r &amp;&amp; r)&#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; c;</span><br><span class="line">		<span class="built_in">string</span> tem;</span><br><span class="line">		<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; tem, tem != <span class="string">"*"</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> len = tem.length();</span><br><span class="line">			<span class="keyword">int</span> id = dir_id(tem[<span class="number">0</span>]);</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)</span><br><span class="line">				has_edge[r][c][id][turn_id(tem[i])] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> d[<span class="number">10</span>][<span class="number">10</span>][<span class="number">4</span>];</span><br><span class="line">Node p[<span class="number">10</span>][<span class="number">10</span>][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">inside</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;<span class="keyword">return</span> x &gt; <span class="number">0</span> &amp;&amp; x &lt; <span class="number">10</span> &amp;&amp; y &gt; <span class="number">0</span> &amp;&amp; y &lt; <span class="number">10</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Output</span><span class="params">(Node u)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;Node&gt;q;</span><br><span class="line">	<span class="built_in">memset</span>(d, <span class="number">-1</span>, <span class="keyword">sizeof</span>(d));</span><br><span class="line">	q.emplace(Begin);</span><br><span class="line">	d[Begin.r][Begin.c][Begin.dir] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		Node tem = q.front();</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">if</span>(tem == End)&#123;Output(tem); <span class="keyword">return</span>;&#125;</span><br><span class="line">		<span class="keyword">int</span> r = tem.r, c = tem.c, dir = tem.dir;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(has_edge[r][c][dir][i])&#123;</span><br><span class="line">				Node tt = walk(tem, i);</span><br><span class="line">				<span class="keyword">if</span>(inside(tt.r, tt.c) &amp;&amp; d[tt.r][tt.c][tt.dir] &lt; <span class="number">0</span>)&#123;</span><br><span class="line">					d[tt.r][tt.c][tt.dir] = d[tem.r][tem.c][tem.dir] + <span class="number">1</span>;</span><br><span class="line">					p[tt.r][tt.c][tt.dir] = tem;</span><br><span class="line">					q.emplace(tt);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"  No Solution Possible\n"</span>;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Output</span><span class="params">(Node u)</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;Node&gt;ans;</span><br><span class="line">	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">		ans.emplace_back(u);</span><br><span class="line">		<span class="keyword">if</span>(d[u.r][u.c][u.dir] == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">		u = p[u.r][u.c][u.dir];</span><br><span class="line">	&#125;</span><br><span class="line">	ans.emplace_back(Begin.dir, Begin.r - Dr[Begin.dir], Begin.c - Dc[Begin.dir]);</span><br><span class="line">	<span class="keyword">int</span> len = ans.size();</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt % <span class="number">10</span> == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">" ("</span> &lt;&lt; ans[i].r &lt;&lt; <span class="string">","</span> &lt;&lt; ans[i].c &lt;&lt; <span class="string">")"</span>;</span><br><span class="line">		<span class="keyword">if</span>(++cnt % <span class="number">10</span> == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(len % <span class="number">10</span> != <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; name &amp;&amp; name != <span class="string">"END"</span>)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		Mem(has_edge);</span><br><span class="line">		readBase();</span><br><span class="line">		readMap();</span><br><span class="line">		bfs();</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Ordering-Tasks"><a href="#Ordering-Tasks" class="headerlink" title="Ordering Tasks"></a>Ordering Tasks</h1><p><a href="https://vjudge.net/problem/UVA-10305" target="_blank" rel="noopener">UVA - 10305</a></p>
<p>é¢˜æ„ï¼šç»™ä»»åŠ¡æ’åºï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ä¸€ä¸ªå‰ç½®ä»»åŠ¡</p>
<p>é¢˜è§£ï¼šæ‹“æ‰‘æ’åº</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10305.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ07æ—¥ æ˜ŸæœŸä¸‰ 17æ—¶08åˆ†23ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> G[<span class="number">110</span>][<span class="number">110</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">110</span>];</span><br><span class="line"><span class="keyword">int</span> n, m, t;</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">	vis[j] = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="keyword">if</span>(G[j][i])&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[i] &lt; <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(!vis[i] &amp;&amp; !dfs(i))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	vis[j] = <span class="number">1</span>;</span><br><span class="line">	ans[--t] = j;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">topo</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Mem(vis);</span><br><span class="line">	t = n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">if</span>(!vis[i] &amp;&amp; !dfs(i))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Output</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d%c"</span>, ans[i], <span class="string">" \n"</span>[i == n - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m) &amp;&amp; n)&#123;</span><br><span class="line">		Mem(G);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> a, b;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">			G[a][b] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(topo())Output();</span><br><span class="line">		<span class="keyword">else</span> assert(<span class="literal">false</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Play-on-Words"><a href="#Play-on-Words" class="headerlink" title="Play on Words"></a>Play on Words</h1><p><a href="https://vjudge.net/problem/UVA-10129" target="_blank" rel="noopener">UVA - 10129</a></p>
<p>é¢˜æ„ï¼šç»™ä½ nä¸ªå•è¯ï¼Œé—®ä½ èƒ½å¦æŠŠè¿™äº›å•è¯æ’æˆä¸€ä¸ªåºåˆ—ï¼Œä½¿æ¯ä¸ªå•è¯åœ°ä¸€ä¸ªå­—æ¯å’Œä¸Šä¸€ä¸ªå•è¯æœ€åä¸€ä¸ªå­—æ¯ç›¸åŒã€‚</p>
<p>é¢˜è§£ï¼šå°†å•è¯é¦–å­—æ¯å’Œç»“å°¾å­—æ¯å»ºç«‹ä¸€æ¡æœ‰å‘è¾¹ã€‚é—®é¢˜æœ‰è§£ï¼Œ å½“ä¸”ä»…å½“å›¾ä¸ºæ¬§æ‹‰è·¯å¾„ï¼Œä¸”åˆ¤æ–­æ˜¯å¦èƒ½è”é€šã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10129.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ07æ—¥ æ˜ŸæœŸä¸‰ 18æ—¶16åˆ†28ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e5</span> + <span class="number">100</span>;</span><br><span class="line"><span class="built_in">string</span> tem[Ma];</span><br><span class="line"><span class="keyword">int</span> word[<span class="number">30</span>];</span><br><span class="line"><span class="keyword">int</span> fa[<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; i++)</span><br><span class="line">		fa[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fin</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> fa[x] = (x == fa[x] ? x : fin(fa[x]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Con</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> pa = fin(a), pb = fin(b);</span><br><span class="line">	<span class="keyword">if</span>(pa == pb)<span class="keyword">return</span> ;</span><br><span class="line">	fa[pb] = pa;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		Mem(word);</span><br><span class="line">		init();</span><br><span class="line">		<span class="keyword">int</span> n;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">		<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;happen;</span><br><span class="line">		rep(i, n)&#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; tem[i];</span><br><span class="line">			word[tem[i][<span class="number">0</span>] - <span class="string">'a'</span>]--;</span><br><span class="line">			word[*tem[i].rbegin() - <span class="string">'a'</span>]++;</span><br><span class="line">			happen.insert(tem[i][<span class="number">0</span>] - <span class="string">'a'</span>);</span><br><span class="line">			happen.insert(*tem[i].rbegin() - <span class="string">'a'</span>);</span><br><span class="line">			Con(tem[i][<span class="number">0</span>] - <span class="string">'a'</span>, *tem[i].rbegin() - <span class="string">'a'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">bool</span> can = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> t = fin(*happen.begin());</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i : happen)</span><br><span class="line">			<span class="keyword">if</span>(fin(i) != t)can = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">bool</span> rb = <span class="literal">false</span>, fb = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; can &amp;&amp; i &lt;= <span class="number">26</span>; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">abs</span>(word[i]) &gt; <span class="number">1</span>)can = <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(word[i] == <span class="number">1</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(!rb)rb = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">else</span> can = <span class="literal">false</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(word[i] == <span class="number">-1</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(!fb)fb = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">else</span> can = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; (can ? <span class="string">"Ordering is possible.\n"</span> : <span class="string">"The door cannot be opened.\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Undraw-the-Trees"><a href="#Undraw-the-Trees" class="headerlink" title="Undraw the Trees"></a>Undraw the Trees</h1><p><a href="https://vjudge.net/problem/UVA-10562" target="_blank" rel="noopener">UVA - 10562</a></p>
<p>é¢˜æ„ï¼š ç»™ä½ næ£µæ ‘ï¼Œè®©ä½ æŠŠæ ‘è½¬åŒ–ä¸ºæ‹¬å·è¡¨ç¤ºæ³•</p>
<p>é¢˜è§£ï¼šé€’å½’éå†å¹¶è¾“å‡º</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 10562.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´08æœˆ08æ—¥ æ˜ŸæœŸå›› 10æ—¶33åˆ†20ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">2e2</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> buf[Ma][Ma];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">	<span class="built_in">putchar</span>(buf[r][c]);</span><br><span class="line">	<span class="built_in">putchar</span>(<span class="string">'('</span>);</span><br><span class="line">	<span class="keyword">if</span>(r + <span class="number">1</span> &lt; n &amp;&amp; buf[r + <span class="number">1</span>][c] == <span class="string">'|'</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> fc = c;</span><br><span class="line">		<span class="keyword">while</span>(fc - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; buf[r + <span class="number">2</span>][fc - <span class="number">1</span>] == <span class="string">'-'</span>)fc--;</span><br><span class="line">		<span class="keyword">while</span>(buf[r + <span class="number">2</span>][fc] == <span class="string">'-'</span> &amp;&amp; buf[r + <span class="number">3</span>][fc] != <span class="string">'\0'</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!<span class="built_in">isspace</span>(buf[r + <span class="number">3</span>][fc]))dfs(r + <span class="number">3</span>, fc);</span><br><span class="line">			fc++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">putchar</span>(<span class="string">')'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	n = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(fgets(buf[n], Ma, <span class="built_in">stdin</span>), buf[n++][<span class="number">0</span>] != <span class="string">'#'</span>);</span><br><span class="line">	<span class="built_in">putchar</span>(<span class="string">'('</span>);</span><br><span class="line">	<span class="keyword">if</span>(--n)&#123;</span><br><span class="line">		<span class="keyword">int</span> len = <span class="built_in">strlen</span>(buf[<span class="number">0</span>]);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) <span class="keyword">if</span>(buf[<span class="number">0</span>][i] != <span class="string">' '</span>)&#123;</span><br><span class="line">			dfs(<span class="number">0</span>, i);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">")"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	fgets(buf[<span class="number">0</span>], Ma, <span class="built_in">stdin</span>);</span><br><span class="line">	<span class="built_in">sscanf</span>(buf[<span class="number">0</span>], <span class="string">"%d"</span>, &amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line">		solve();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Sculpture"><a href="#Sculpture" class="headerlink" title="Sculpture"></a>Sculpture</h1><p><a href="https://vjudge.net/problem/UVA-12171" target="_blank" rel="noopener">UVA - 12171</a></p>
<p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªé›•å¡‘ï¼Œé—®ä½ é›•å¡‘çš„è¡¨é¢ç§¯å’Œä½“ç§¯</p>
<p>é¢˜è§£ï¼šå°†é›•å¡‘ç”»åˆ°ä¸‰ç»´ç©ºé—´ä¸­ï¼Œè¿›è¡Œä¸€æ¬¡floodfillï¼Œ å¾—å‡ºé›•å¡‘ä½“ç§¯å’Œç©ºæ°”å†…è¡¨é¢ç§¯, å¾—è¿›è¡Œç¦»æ•£åŒ–å¤„ç†ç©ºé—´é—®é¢˜</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">110</span>, inf = <span class="number">1001</span>;</span><br><span class="line"><span class="keyword">int</span> flower[Ma][Ma][Ma];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Com</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x0, y0, z0, x1, y1, z1;</span><br><span class="line">	Com(<span class="keyword">int</span> xx, <span class="keyword">int</span> yy, <span class="keyword">int</span> zz, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span><br><span class="line">	: x0(xx), y0(yy), z0(zz) &#123;</span><br><span class="line">		x1 = x0 + x, y1 = y0 + y, z1 = z0 + z; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Com&gt; com;</span><br><span class="line"><span class="keyword">int</span> X[Ma], Y[Ma], Z[Ma];</span><br><span class="line"><span class="keyword">int</span> lx, ly, lz;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">discretize</span><span class="params">(<span class="keyword">int</span>* x, <span class="keyword">int</span>&amp; len, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	sort(x, x + n);</span><br><span class="line">	len = unique(x, x + n) - x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ID</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> v, <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> lower_bound(x, x + len, v) - x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dix[] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;,</span><br><span class="line">	diy[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;,</span><br><span class="line">	diz[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cell</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x, y, z;</span><br><span class="line">	Cell(<span class="keyword">int</span> xx = <span class="number">0</span>, <span class="keyword">int</span> yy = <span class="number">0</span>, <span class="keyword">int</span> zz = <span class="number">0</span>)</span><br><span class="line">	: x(xx), y(yy), z(zz)&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">valid</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; lx - <span class="number">1</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; ly - <span class="number">1</span> &amp;&amp; z &gt;= <span class="number">0</span> &amp;&amp; z &lt; lz - <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">visited</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> flower[x][y][z] == <span class="number">2</span>;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">dicvis</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> flower[x][y][z] == <span class="number">1</span>;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setVis</span><span class="params">()</span> </span>&#123;flower[x][y][z] = <span class="number">2</span>;&#125;</span><br><span class="line">	<span class="function">Cell <span class="title">neighbor</span><span class="params">(<span class="keyword">int</span> dir)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> Cell(x + dix[dir], y + diy[dir], z + diz[dir]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">edge</span><span class="params">(<span class="keyword">int</span>* wh, <span class="keyword">int</span> w)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> wh[w + <span class="number">1</span>] - wh[w];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">vol</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> edge(X, x) * edge(Y, y) * edge(Z, z);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">area</span><span class="params">(<span class="keyword">int</span> dir)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(dix[dir] != <span class="number">0</span>)<span class="keyword">return</span> edge(Y, y) * edge(Z, z);</span><br><span class="line">		<span class="keyword">if</span>(diy[dir] != <span class="number">0</span>)<span class="keyword">return</span> edge(X, x) * edge(Z, z);</span><br><span class="line">		<span class="keyword">return</span> edge(X, x) * edge(Y, y);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">floodfill</span><span class="params">(<span class="keyword">int</span>&amp; val, <span class="keyword">int</span>&amp; sum)</span></span>&#123;</span><br><span class="line">	Cell c;</span><br><span class="line">	<span class="built_in">queue</span>&lt;Cell&gt;q;</span><br><span class="line">	c.setVis();</span><br><span class="line">	q.push(c);</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		Cell t = q.front();</span><br><span class="line">		sum += t.vol();</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">			Cell m = t.neighbor(i);</span><br><span class="line">			<span class="keyword">if</span>(!m.valid())<span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span>(m.dicvis())val += m.area(i);</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(!m.visited())m.setVis(), q.push(m);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	sum = inf * inf * inf - sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fill</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> z1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> z2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> x = x1; x &lt; x2; x++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> y = y1; y &lt; y2; y++)</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> z = z1; z &lt; z2; z++)</span><br><span class="line">				flower[x][y][z] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(flower, <span class="number">0</span>, <span class="keyword">sizeof</span>(flower));</span><br><span class="line">		com.clear();</span><br><span class="line">		<span class="keyword">int</span> n, cnt = <span class="number">0</span>;</span><br><span class="line">		X[cnt] = Y[cnt] = Z[cnt] = <span class="number">0</span>;</span><br><span class="line">		cnt++;</span><br><span class="line">		X[cnt] = Y[cnt] = Z[cnt] = inf;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">int</span> x0, y0, z0, x, y, z;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; x0 &gt;&gt; y0 &gt;&gt; z0 &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">			com.push_back(Com(x0, y0, z0, x, y, z));</span><br><span class="line">			cnt++;</span><br><span class="line">			X[cnt] = x0, Y[cnt] = y0, Z[cnt] = z0;</span><br><span class="line">			cnt++;</span><br><span class="line">			X[cnt] = x0 + x, Y[cnt] = y0 + y, Z[cnt] = z0 + z;</span><br><span class="line">		&#125;</span><br><span class="line">		cnt++;</span><br><span class="line">		discretize(X, lx, cnt);</span><br><span class="line">		discretize(Y, ly, cnt);</span><br><span class="line">		discretize(Z, lz, cnt);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">			Com i = com[j];</span><br><span class="line">			fill(ID(X, i.x0, lx), ID(Y, i.y0, ly), ID(Z, i.z0, lz),</span><br><span class="line">			 	 ID(X, i.x1, lx), ID(Y, i.y1, ly), ID(Z, i.z1, lz));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> val = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">		floodfill(val, sum);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; val &lt;&lt; <span class="string">' '</span> &lt;&lt; sum &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Self-Assembly"><a href="#Self-Assembly" class="headerlink" title="Self-Assembly"></a>Self-Assembly</h1><p><a href="https://vjudge.net/problem/UVA-1572" target="_blank" rel="noopener">UVA - 1572</a></p>
<p>é¢˜æ„ï¼šç»™ä½ nç§æ­£æ–¹å½¢ï¼Œåªæœ‰æ­£å’Œè´Ÿèƒ½æ‹¼æ¥ï¼Œé—®ä½ èƒ½å¦å¾—åˆ°ä¸€ä¸ªæ— é™å¤§çš„ç»“æ„</p>
<p>é¢˜è§£ï¼šæ ¹æ®é¢˜æ„åˆ†æï¼Œæ ¹æ®æ­£æ–¹å½¢å»ºè¾¹ï¼Œå½“å›¾ä¸­å­˜åœ¨æœ‰å‘ç¯æ—¶ï¼Œåˆ™é€šè¿‡æ—‹è½¬å’Œç¿»è½¬ï¼Œä¸€å®šèƒ½å¾—åˆ°æ— é™å¤§çš„ç»“æ„ï¼Œè¿›è¡Œæ‹“æ‰‘æ’åºï¼Œæ‰¾ç¯å³å¯ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 1572.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´09æœˆ13æ—¥ æ˜ŸæœŸäº” 10æ—¶33åˆ†44ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> G[<span class="number">52</span>][<span class="number">52</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Id</span><span class="params">(<span class="keyword">char</span> a, <span class="keyword">char</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (a  - <span class="string">'A'</span>) * <span class="number">2</span> + (b == <span class="string">'+'</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">char</span> a1, <span class="keyword">char</span> a2, <span class="keyword">char</span> b1, <span class="keyword">char</span> b2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(a1 == <span class="string">'0'</span> || b1 == <span class="string">'0'</span>)<span class="keyword">return</span> ;</span><br><span class="line">	G[Id(a1, a2) ^ <span class="number">1</span>][Id(b1, b2)] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">52</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> ind)</span></span>&#123;</span><br><span class="line">	vis[ind] = <span class="number">-1</span>;</span><br><span class="line">	rep(i, <span class="number">52</span>)<span class="keyword">if</span>(G[ind][i])&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[i] &lt; <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(!vis[i] &amp;&amp; dfs(i))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	vis[ind] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">find_cycle</span><span class="params">()</span></span>&#123;</span><br><span class="line">	rep(i, <span class="number">52</span>)<span class="keyword">if</span>(!vis[i])</span><br><span class="line">		<span class="keyword">if</span>(dfs(i))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))&#123;</span><br><span class="line">		Mem(G);</span><br><span class="line">		Mem(vis);</span><br><span class="line">		rep(k, n)&#123;</span><br><span class="line">			<span class="keyword">char</span> s[<span class="number">8</span>];</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s);</span><br><span class="line">			rep(i, <span class="number">4</span>)rep(j, <span class="number">4</span>)<span class="keyword">if</span>(i != j)</span><br><span class="line">				connect(s[i * <span class="number">2</span>], s[i * <span class="number">2</span> + <span class="number">1</span>], s[j * <span class="number">2</span>], s[j * <span class="number">2</span> + <span class="number">1</span>]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(find_cycle())<span class="built_in">puts</span>(<span class="string">"unbounded"</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"bounded"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Ideal-Path"><a href="#Ideal-Path" class="headerlink" title="Ideal Path"></a>Ideal Path</h1><p><a href="https://vjudge.net/problem/UVA-1599" target="_blank" rel="noopener">UVA - 1599</a></p>
<p>é¢˜æ„ï¼šç»™ä½ nä¸ªç‚¹ï¼Œmæ¡è¾¹ï¼Œå’Œæ¯æ¡è¾¹çš„é¢œè‰²ï¼Œé—®ä½ 1åˆ°nçš„æœ€çŸ­è·¯ï¼Œä¸”ç»è¿‡è¾¹ä¸Šçš„é¢œè‰²å­—å…¸åºæœ€å°</p>
<p>é¢˜è§£ï¼šåˆ˜å¤§çˆ·è¯´æ˜çš„æ˜¯èµ°ä¸¤ébfsï¼Œä¸€éè·‘æœ€çŸ­è·¯ï¼Œä¸€éè·‘æœ€å°å­—å…¸åºã€‚å¹¶æå‡ºä¸€ébfsçš„æ–¹æ³•ç»™<del>æˆ‘</del>è¯»è€…æ€è€ƒï¼Œé€šè¿‡ä»ç»ˆç‚¹å¾€èµ·ç‚¹æœï¼Œæ‰¾åˆ°åˆ°è¾¾ä¸€ä¸ªç‚¹çš„æ›´å¤šé€‰æ‹©åäº†é€‰æ‹©å­—å…¸åºæ›´å°çš„é‚£ä¸ªï¼Œè¿™å¯¹æœ€çŸ­è·¯æ— å½±å“ï¼ŒåŒæ—¶ç¡®å®šäº†æœ€çŸ­è·¯çš„é¢œè‰²å­—å…¸åºæœ€å°</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e5</span> + <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">InputOutputStream</span> &#123;</span></span><br><span class="line">    <span class="keyword">enum</span> &#123; SIZE = <span class="number">1000001</span> &#125;;</span><br><span class="line">    <span class="keyword">char</span> ibuf[SIZE], *s, *t, obuf[SIZE], *oh;</span><br><span class="line">    <span class="keyword">bool</span> eof;</span><br><span class="line"></span><br><span class="line">    InputOutputStream() : s(), t(), oh(obuf), eof(<span class="literal">false</span>) &#123;&#125;</span><br><span class="line">    ~InputOutputStream() &#123; fwrite(obuf, <span class="number">1</span>, oh - obuf, <span class="built_in">stdout</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == t) t = (s = ibuf) + fread(ibuf, <span class="number">1</span>, SIZE, <span class="built_in">stdin</span>);</span><br><span class="line">        <span class="keyword">return</span> s == t ? <span class="number">-1</span> : *s++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">    <span class="keyword">inline</span> InputOutputStream &amp;<span class="keyword">operator</span>&gt;&gt;(T &amp;x) &#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">char</span> c;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">bool</span> iosig;</span><br><span class="line">        <span class="keyword">for</span> (c = read(), iosig = <span class="literal">false</span>; !<span class="built_in">isdigit</span>(c); c = read()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="number">-1</span>) &#123;eof = <span class="literal">true</span>; <span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">            iosig |= c == <span class="string">'-'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (x = <span class="number">0</span>; <span class="built_in">isdigit</span>(c); c = read()) x = x * <span class="number">10</span> + (c ^ <span class="string">'0'</span>);</span><br><span class="line">        <span class="keyword">if</span> (iosig) x = -x;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (oh == obuf + SIZE) &#123;</span><br><span class="line">            fwrite(obuf, <span class="number">1</span>, SIZE, <span class="built_in">stdout</span>);</span><br><span class="line">            oh = obuf;</span><br><span class="line">        &#125;</span><br><span class="line">        *oh++ = c;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">int</span> buf[<span class="number">23</span>], cnt;</span><br><span class="line">        <span class="keyword">if</span> (x != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x &lt; <span class="number">0</span>) print(<span class="string">'-'</span>), x = -x;</span><br><span class="line">            <span class="keyword">for</span> (cnt = <span class="number">0</span>; x; x /= <span class="number">10</span>) buf[++cnt] = x % <span class="number">10</span> | <span class="number">48</span>;</span><br><span class="line">            <span class="keyword">while</span> (cnt) print((<span class="keyword">char</span>)buf[cnt--]);</span><br><span class="line">        &#125; <span class="keyword">else</span> print(<span class="string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">    <span class="keyword">inline</span> InputOutputStream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="keyword">const</span> T &amp;x) &#123;</span><br><span class="line">        print(x);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; io;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> u, v, c, nex;</span><br><span class="line">&#125;node[Ma * <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[Ma], cnt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dis[Ma], pre[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">		head[i] = <span class="number">-1</span>, dis[i] = <span class="number">0</span>, pre[i] = <span class="number">-1</span>;</span><br><span class="line">	cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">	node[cnt].v = v, node[cnt].c = c, node[cnt].u = u;</span><br><span class="line">	node[cnt].nex = head[u], head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rebfs</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> vis[n + <span class="number">1</span>];</span><br><span class="line">	<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">	q.emplace(n);</span><br><span class="line">	vis[n] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">		<span class="keyword">int</span> t = q.front();</span><br><span class="line">		<span class="keyword">if</span>(t == <span class="number">1</span>)<span class="keyword">break</span>;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = head[t]; ~i; i = node[i].nex)&#123;</span><br><span class="line">			<span class="keyword">const</span> <span class="keyword">auto</span>&amp; temp = node[i];</span><br><span class="line">			<span class="keyword">if</span>(!vis[temp.v])&#123;</span><br><span class="line">				dis[temp.v] = dis[t] + <span class="number">1</span>;</span><br><span class="line">				pre[temp.v] = i;</span><br><span class="line">				vis[temp.v] = <span class="literal">true</span>;</span><br><span class="line">				q.emplace(temp.v);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(dis[temp.v] == dis[t] + <span class="number">1</span>)&#123;</span><br><span class="line">				<span class="keyword">int</span> x = i, y = pre[temp.v];</span><br><span class="line">				<span class="comment">//assert(x &gt; 0 &amp;&amp; y &gt; 0);</span></span><br><span class="line">				<span class="keyword">while</span>(node[x].u != n &amp;&amp; node[x].c == node[y].c &amp;&amp; x != y)</span><br><span class="line">					<span class="comment">/*assert(x &gt; 0 &amp;&amp; y &gt; 0),*/</span> x = pre[node[x].u], y = pre[node[y].u];</span><br><span class="line">				<span class="keyword">if</span>(node[x].c &lt; node[y].c)pre[temp.v] = i, q.emplace(temp.v);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	io &lt;&lt; dis[<span class="number">1</span>] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	<span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(x != n)&#123;</span><br><span class="line">		io &lt;&lt; node[pre[x]].c;</span><br><span class="line">		x = node[pre[x]].u;</span><br><span class="line">		<span class="keyword">if</span>(x != n)io &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">		<span class="keyword">else</span> io &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, m;</span><br><span class="line">	<span class="keyword">while</span>((io &gt;&gt; n &gt;&gt; m), !io.eof)&#123;</span><br><span class="line">		init(n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> u, v, c, i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">			io &gt;&gt; u &gt;&gt; v &gt;&gt; c;</span><br><span class="line">			add(u, v, c);</span><br><span class="line">			add(v, u, c);</span><br><span class="line">		&#125;</span><br><span class="line">		rebfs(n);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="System-Dependencies"><a href="#System-Dependencies" class="headerlink" title="System Dependencies"></a>System Dependencies</h1><p><a href="https://vjudge.net/problem/UVA-506" target="_blank" rel="noopener">UVA - 506</a></p>
<p>é¢˜æ„ï¼šæ¨¡æ‹Ÿliunxçš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå®‰è£…å’Œå¸è½½è½¯ä»¶ï¼Œè§£å†³ä¾èµ–é—®é¢˜</p>
<p>é¢˜è§£ï¼šå®‰è£…å¦‚æœæ²¡æœ‰æ˜¾å¼å£°æ˜çš„è¯æ— æ³•é€šè¿‡æ˜¾å¼å¸è½½å¸è½½ï¼Œè¿˜æœ‰ä¾èµ–çš„æ£€æŸ¥ï¼Œæ³¨æ„è¿™äº›è¿›è¡Œæ¨¡æ‹Ÿï¼ŒUVAçš„æ ·åˆ—åˆ<del>ï¼ˆæˆ‘ä¸ºä»€ä¹ˆè¦è¯´åˆï¼‰</del>å‡ºé”™äº†ï¼Œæ ·ä¾‹æœ€åçš„é‚£ä¸ªHTMLå’ŒTCPIPçš„åˆ é™¤é¡ºåºåäº†,  è¯´çš„å¤šç»„è¾“å…¥ä¹Ÿåªæœ‰ä¸€ç»„ï¼Œï¼Œuvaæ ‡å‡†é£æ ¼ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 506.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´10æœˆ12æ—¥ æ˜ŸæœŸå…­ 15æ—¶06åˆ†28ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;name;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; pname;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> statu[Ma];</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;depend, dependi;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;installer;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">install</span><span class="params">(<span class="keyword">int</span> id, <span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(!statu[id])&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : depend[id])</span><br><span class="line">			install(i, <span class="number">2</span>);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"   Installing "</span> &lt;&lt; pname[id] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		statu[id] = level;</span><br><span class="line">		installer.emplace_back(id);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(level == <span class="number">1</span>)</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"   "</span> &lt;&lt; pname[id]  &lt;&lt; <span class="string">" is already installed.\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">need</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> i : dependi[id])</span><br><span class="line">		<span class="keyword">if</span>(statu[i])<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> id, <span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(statu[id] == level &amp;&amp; !need(id))&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"   Removing "</span> &lt;&lt; pname[id] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		statu[id] = <span class="number">0</span>;</span><br><span class="line">		installer.erase(remove(seg(installer), id), installer.end());</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : depend[id])</span><br><span class="line">			remove(i, <span class="number">2</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(statu[id] == <span class="number">0</span> &amp;&amp; level == <span class="number">1</span>)</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"   "</span> &lt;&lt; pname[id] &lt;&lt; <span class="string">" is not installed.\n"</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(level == <span class="number">1</span> &amp;&amp; need(id))</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"   "</span> &lt;&lt; pname[id] &lt;&lt; <span class="string">" is still needed.\n"</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">			name.clear();</span><br><span class="line">			pname.clear();</span><br><span class="line">			depend.clear();</span><br><span class="line">			dependi.clear();</span><br><span class="line">			installer.clear();</span><br><span class="line">			<span class="built_in">memset</span>(statu, <span class="number">0</span>, <span class="keyword">sizeof</span>(statu));</span><br><span class="line">			<span class="built_in">string</span> com = <span class="string">""</span>, line = <span class="string">""</span>;</span><br><span class="line">			<span class="keyword">while</span>(getline(<span class="built_in">cin</span>, line))&#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; line &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">				<span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(line)</span></span>;</span><br><span class="line">				ss &gt;&gt; com;</span><br><span class="line">				<span class="keyword">if</span>(com[<span class="number">0</span>] == <span class="string">'E'</span>)<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(com[<span class="number">0</span>] == <span class="string">'D'</span>)&#123;</span><br><span class="line">					<span class="built_in">string</span> aim;</span><br><span class="line">					ss &gt;&gt; aim;</span><br><span class="line">					<span class="keyword">if</span>(!name.count(aim))</span><br><span class="line">						name[aim] = name.size(), pname.emplace_back(aim);</span><br><span class="line">					<span class="built_in">string</span> temp;</span><br><span class="line">					<span class="keyword">while</span>(ss &gt;&gt; temp)&#123;</span><br><span class="line">						<span class="keyword">if</span>(!name.count(temp))</span><br><span class="line">							name[temp] = name.size(), pname.emplace_back(temp);</span><br><span class="line">						depend[name[aim]].emplace_back(name[temp]);</span><br><span class="line">						dependi[name[temp]].emplace_back(name[aim]);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(com[<span class="number">1</span>] == <span class="string">'N'</span>)&#123;</span><br><span class="line">					<span class="built_in">string</span> aim;</span><br><span class="line">					ss &gt;&gt; aim;</span><br><span class="line">					<span class="keyword">if</span>(!name.count(aim))</span><br><span class="line">						name[aim] = name.size(), pname.emplace_back(aim);</span><br><span class="line">					install(name[aim], <span class="number">1</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(com[<span class="number">0</span>] == <span class="string">'R'</span>) &#123;</span><br><span class="line">					<span class="built_in">string</span> aim;</span><br><span class="line">					ss &gt;&gt; aim;</span><br><span class="line">					<span class="keyword">if</span>(!name.count(aim))</span><br><span class="line">						name[aim] = name.size(), pname.emplace_back(aim);</span><br><span class="line">					remove(name[aim], <span class="number">1</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span> </span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : installer)</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">"   "</span> &lt;&lt; pname[i] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(com == <span class="string">""</span>)<span class="keyword">throw</span> <span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">catch</span>(...)&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Paintball"><a href="#Paintball" class="headerlink" title="Paintball"></a>Paintball</h1><p><a href="https://vjudge.net/problem/UVA-11853" target="_blank" rel="noopener">UVA - 11853</a></p>
<p>é¢˜æ„ï¼šæœ‰nä¸ªæ•Œäººï¼Œæ¯ä¸ªæ•Œäººæœ‰ä¸€ä¸ªåæ ‡å’Œä¸€ä¸ªæ”»å‡»åŠå¾„ï¼Œé—®ä½ ä½ èƒ½å¦å®‰å…¨ä»å·¦è¾¹åˆ°è¾¾å³è¾¹ï¼Œèƒ½çš„è¯è¾“å‡ºæœ€åŒ—çš„è¿›å‡ºå£</p>
<p>é¢˜è§£ï¼š æŠŠæ•Œäººä½œä¸ºè·¯å¾„ï¼Œ ä»ä¸Šåˆ°ä¸‹è¿›è¡Œä¸€æ¬¡dfsï¼Œ å¦‚æœèƒ½è¿é€šï¼Œåˆ™ä¸å¯èƒ½é€šè¿‡ï¼Œå¦åˆ™èƒ½ï¼Œä¸”ä¸è¾¹ç•Œäº¤ç•Œçš„ æœ€å—çš„é‚£ç‚¹å°±æ˜¯æœ€åŒ—çš„è¿›å‡ºå£</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">Flie Name: 11853.cpp</span></span><br><span class="line"><span class="comment">Author: Liupo</span></span><br><span class="line"><span class="comment">Email: lanzongwei541@gmail.com</span></span><br><span class="line"><span class="comment">Creat time: 2019å¹´10æœˆ15æ—¥ æ˜ŸæœŸäºŒ 20æ—¶24åˆ†02ç§’</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, n) for(int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> seg(i) i.begin(), i.end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Mem(i) memset(i, 0, sizeof(i))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">	<span class="keyword">double</span> x, y;</span><br><span class="line">	<span class="keyword">double</span> rang;</span><br><span class="line">	<span class="keyword">int</span> indx;</span><br><span class="line">	Node(<span class="keyword">double</span> _x, <span class="keyword">double</span> _y, <span class="keyword">double</span> _r, <span class="keyword">int</span> _i) :</span><br><span class="line">		x(_x), y(_y), rang(_r), indx(_i) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">inme</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">double</span> lx = <span class="built_in">fabs</span>(a - x), ly = <span class="built_in">fabs</span>(b - y);</span><br><span class="line">		<span class="keyword">return</span> lx * lx + ly * ly - rang * rang &lt; eps;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> mx = <span class="number">1000.00</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Ma = <span class="number">1e4</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt;v;</span><br><span class="line"><span class="keyword">bool</span> vis[Ma];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">inhere</span><span class="params">(<span class="keyword">const</span> Node&amp; temp)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> temp.y + temp.rang - mx &gt; eps;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">wet</span><span class="params">(<span class="keyword">const</span> Node&amp; a, <span class="keyword">const</span> Node&amp; b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> lx = a.x - b.x, ly = a.y - b.y;</span><br><span class="line">	<span class="keyword">double</span> dis = lx * lx + ly * ly;</span><br><span class="line">	<span class="keyword">double</span> ra = a.rang + b.rang;</span><br><span class="line">	<span class="comment">//cout &lt;&lt; a.indx &lt;&lt; ' ' &lt;&lt; b.indx &lt;&lt; ' ' &lt;&lt; ra &lt;&lt; ' ' &lt;&lt; ra * ra &lt;&lt; ' ' &lt;&lt; dis &lt;&lt; endl;</span></span><br><span class="line">	<span class="keyword">return</span> (dis - ra * ra) &lt; eps;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> le, ri;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">const</span> Node&amp; temp)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(temp.x - temp.rang &lt; eps)</span><br><span class="line">		le = min(le, temp.y - <span class="built_in">sqrt</span>(temp.rang * temp.rang - temp.x * temp.x));</span><br><span class="line">	<span class="keyword">if</span>(temp.x + temp.rang - mx &gt; eps)</span><br><span class="line">		ri = min(ri, temp.y - <span class="built_in">sqrt</span>(temp.rang * temp.rang - (mx - temp.x) * (mx - temp.x)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">const</span> Node&amp; temp)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(vis[temp.indx])<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	vis[temp.indx] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">if</span>(temp.y - temp.rang &lt; eps)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : v)&#123;</span><br><span class="line">		<span class="keyword">if</span>(&amp;i == &amp;temp)<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(!vis[i.indx] &amp;&amp; wet(temp, i) &amp;&amp; dfs(i))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	update(temp);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">		le = ri = mx;</span><br><span class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">		v.clear();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">			<span class="keyword">double</span> a, b, c;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">			v.emplace_back(Node(a, b, c, i));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">bool</span> win = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : v)</span><br><span class="line">			<span class="keyword">if</span>(!vis[i.indx] &amp;&amp; inhere(i) &amp;&amp; dfs(i))&#123;</span><br><span class="line">				win = <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="built_in">cout</span>.setf(ios::fixed);</span><br><span class="line">		<span class="built_in">cout</span>.precision(<span class="number">2</span>);</span><br><span class="line">		<span class="keyword">if</span>(win)<span class="built_in">cout</span> &lt;&lt; <span class="string">"0.00 "</span> &lt;&lt; le &lt;&lt; <span class="string">" 1000.00 "</span> &lt;&lt; ri &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"IMPOSSIBLE\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çˆ½ï¼Œå†æ›´å®Œä¹ é¢˜å°±èƒ½å­¦æš´åŠ›äº†ï¼</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2019/11/12/ç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ç¬¬å…­ç« ä¹ é¢˜-14-14/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2019/10/15/Bubble-Sort-Gym-102222lé¢˜è§£/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2019-10-21 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/problem-solve/">é¢˜è§£<span>19</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/code/">code<span>22</span></a></li> <li><a href="/tags/algrm/">ç®—æ³•ç«èµ›å…¥é—¨ç»å…¸<span>10</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Concurrency-Simulator"><span class="toc-article-text">Concurrency Simulator</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Rails"><span class="toc-article-text">Rails</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Matrix-Chain-Multiplication"><span class="toc-article-text">Matrix Chain Multiplication</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Broken-Keyboard-a-k-a-Beiju-Text"><span class="toc-article-text">Broken Keyboard (a.k.a. Beiju Text)</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Boxes-in-a-Line"><span class="toc-article-text">Boxes in a Line</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Dropping-Balls"><span class="toc-article-text">Dropping Balls</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Trees-on-the-level"><span class="toc-article-text">Trees on the level</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Tree"><span class="toc-article-text">Tree</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Not-so-Mobile"><span class="toc-article-text">Not so Mobile</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#The-Falling-Leaves"><span class="toc-article-text">The Falling Leaves</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Quadtrees"><span class="toc-article-text">Quadtrees</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Oil-Deposits"><span class="toc-article-text">Oil Deposits</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Ancient-Messages"><span class="toc-article-text">Ancient Messages</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Abbottâ€™s-Revenge"><span class="toc-article-text">Abbottâ€™s Revenge</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Ordering-Tasks"><span class="toc-article-text">Ordering Tasks</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Play-on-Words"><span class="toc-article-text">Play on Words</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Undraw-the-Trees"><span class="toc-article-text">Undraw the Trees</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Sculpture"><span class="toc-article-text">Sculpture</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Self-Assembly"><span class="toc-article-text">Self-Assembly</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Ideal-Path"><span class="toc-article-text">Ideal Path</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#System-Dependencies"><span class="toc-article-text">System Dependencies</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#Paintball"><span class="toc-article-text">Paintball</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->




	<div id="comment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#comment' ,
        notify:true, 
        verify:true, 
        appId: 'mpYG5gk3zUSGLHSmW2YgT3oA-gzGzoHsz',
        appKey: 'vV040gPRCKgVKVH5niloUksW',
        placeholder: 'è¯„è®ºä¸€ä¸‹å†èµ°å˜›o(*ï¿£â–½ï¿£*)ãƒ–',
        path:window.location.pathname, 
        avatar:'mm',
        visitor:true
    });
    document.body.addEventListener('click', function(e) {
        if (e.target.classList.contains('vsubmit')) {
            const email = document.querySelector('input[type=email]');
            const nick = document.querySelector('input[name=nick]');
            if (!email.value || !nick.value) {
                const str = `<div class="valert txt-center"><div class="vtext">è¯·å¡«å†™æ˜µç§°å’Œé‚®ç®±ï¼</div></div>`;
                const vmark = document.querySelector('.vmark');
                vmark.innerHTML = str;
                vmark.style.display = 'block';
                setTimeout(function() {
                    vmark.style.display = 'none';
                    vmark.innerHTML = '';
                }, 2500);
            }
        }
        });
    </script>
	

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2020 Ghost_LZW
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/" target="_blank" rel="noopener">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  
  <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'BDeNfFwDjzz41GphGyrf','2.0.0');
  </script>



  
<a id="gotop" href="#">   
  <span>â¬†ï¸TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
